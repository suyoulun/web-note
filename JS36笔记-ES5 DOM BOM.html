<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>JS36笔记-ES5 DOM BOM.md</title><link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}.CodeMirror { height: auto; }
.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; }
.CodeMirror-lines { padding: 4px 0px; }
.CodeMirror pre { }
.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { background-color: white; }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background-color: rgb(247, 247, 247); white-space: nowrap; }
.CodeMirror-linenumbers { }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.CodeMirror div.CodeMirror-cursor { border-left: 1px solid black; z-index: 3; }
.CodeMirror div.CodeMirror-secondarycursor { border-left: 1px solid silver; }
.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursor { width: auto; border: 0px; background: rgb(119, 238, 119); z-index: 1; }
.CodeMirror div.CodeMirror-cursor.CodeMirror-overwrite { }
.cm-tab { display: inline-block; }
.cm-s-typora-default .cm-header, .cm-s-typora-default .cm-property { color: rgb(217, 79, 138); }
.cm-s-typora-default pre.cm-header1:not(.cm-atom) :not(.cm-overlay) { font-size: 2rem; line-height: 2rem; }
.cm-s-typora-default pre.cm-header2:not(.cm-atom) :not(.cm-overlay) { font-size: 1.4rem; line-height: 1.4rem; }
.cm-s-typora-default .cm-atom, .cm-s-typora-default .cm-number { color: rgb(149, 132, 134); }
.cm-s-typora-default .cm-table-row, .cm-s-typora-default .cm-block-start { font-family: var(--monospace); }
.cm-s-typora-default .cm-comment, .cm-s-typora-default .cm-code { color: rgb(74, 90, 159); font-family: var(--monospace); }
.cm-s-typora-default .cm-tag { color: rgb(169, 68, 66); }
.cm-s-typora-default .cm-string { color: rgb(126, 134, 169); }
.cm-s-typora-default .cm-link { color: rgb(196, 122, 15); text-decoration: underline; }
.cm-s-typora-default .cm-variable-2, .cm-s-typora-default .cm-variable-1 { color: inherit; }
.cm-s-typora-default .cm-overlay { font-family: var(--monospace); }
.CodeMirror.cm-s-typora-default div.CodeMirror-cursor { border-left: 3px solid rgb(228, 98, 154); }
.cm-s-typora-default .CodeMirror-activeline-background { left: -60px; right: -30px; background: rgba(204, 204, 204, 0.2); }
.cm-s-typora-default .CodeMirror-gutters { border-right: none; background-color: inherit; }
.cm-s-typora-default .cm-trailing-space-new-line::after, .cm-startspace::after, .cm-starttab .cm-tab::after { content: "•"; position: absolute; left: 0px; opacity: 0; font-family: LetterGothicStd, monospace; }
.os-windows .cm-startspace::after, .os-windows .cm-starttab .cm-tab::after { left: -0.1em; }
.cm-starttab .cm-tab::after { content: " "; }
.cm-startspace, .cm-tab, .cm-starttab, .cm-trailing-space-a, .cm-trailing-space-b, .cm-trailing-space-new-line { font-family: var(--monospace); position: relative; }
.cm-s-typora-default .cm-trailing-space-new-line::after { content: "↓"; opacity: 0.3; }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: black; }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-property { color: black; }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: blue; }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: bold; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: rgb(255, 0, 0); }
.cm-invalidchar { color: rgb(255, 0, 0); }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { margin-bottom: -30px; margin-right: -30px; padding-bottom: 30px; padding-right: 30px; height: 100%; outline: none; position: relative; box-sizing: content-box; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow-x: hidden; overflow-y: scroll; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow-y: hidden; overflow-x: scroll; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: none !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: transparent; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-widget { }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.CodeMirror-selected { background: rgb(217, 217, 217); }
.CodeMirror-focused .CodeMirror-selected { background: rgb(215, 212, 240); }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
.CodeMirror span { }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}
.CodeMirror-lint-markers { width: 16px; }
.CodeMirror-lint-tooltip { background-color: infobackground; border: 1px solid black; border-radius: 4px; color: infotext; font-family: var(--monospace); overflow: hidden; padding: 2px 5px; position: fixed; white-space: pre-wrap; z-index: 10000; max-width: 600px; opacity: 0; transition: opacity 0.4s; font-size: 0.8em; }
.CodeMirror-lint-mark-error, .CodeMirror-lint-mark-warning { background-position: left bottom; background-repeat: repeat-x; }
.CodeMirror-lint-mark-error { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg=="); }
.CodeMirror-lint-marker-error, .CodeMirror-lint-marker-warning { background-position: center center; background-repeat: no-repeat; cursor: pointer; display: inline-block; height: 16px; width: 16px; vertical-align: middle; position: relative; }
.CodeMirror-lint-message-error, .CodeMirror-lint-message-warning { padding-left: 18px; background-position: left top; background-repeat: no-repeat; }
.CodeMirror-lint-marker-error, .CodeMirror-lint-message-error { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII="); }
.CodeMirror-lint-marker-warning, .CodeMirror-lint-message-warning { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII="); }
.CodeMirror-lint-marker-multiple { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC"); background-repeat: no-repeat; background-position: right bottom; width: 100%; height: 100%; }


:root { --bg-color: #ffffff; --text-color: #333333; --code-block-bg-color: inherit; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { background: rgb(181, 214, 252); text-shadow: none; }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; padding-bottom: 70px; white-space: pre-wrap; overflow-x: visible; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
.typora-export #write { margin: 0px auto; }
#write > p:first-child, #write > ul:first-child, #write > ol:first-child, #write > pre:first-child, #write > blockquote:first-child, #write > div:first-child, #write > table:first-child { margin-top: 30px; }
#write li > table:first-child { margin-top: -20px; }
img { max-width: 100%; vertical-align: middle; }
input, button, select, textarea { color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
::before, ::after, * { box-sizing: border-box; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write div, #write pre { width: inherit; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6 { position: relative; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
p { -webkit-margin-before: 1rem; -webkit-margin-after: 1rem; -webkit-margin-start: 0px; -webkit-margin-end: 0px; }
.typora-export p { white-space: normal; }
.mathjax-block { margin-top: 0px; margin-bottom: 0px; -webkit-margin-before: 0rem; -webkit-margin-after: 0rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: bold; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; margin: 4px 0px 0px; }
#write > figure:first-child { margin-top: 16px; }
figure { overflow-x: auto; margin: -8px 0px 0px -8px; max-width: calc(100% + 16px); padding: 8px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 80px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
pre { white-space: pre-wrap; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: var(--code-block-bg-color); position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
.md-fences .CodeMirror.CodeMirror-wrap { top: -1.6em; margin-bottom: -1.6em; }
.md-fences.mock-cm { white-space: pre-wrap; }
.show-fences-line-number .md-fences { padding-left: 0px; }
.show-fences-line-number .md-fences.mock-cm { padding-left: 40px; }
.CodeMirror-line { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; padding-top: 1em; padding-bottom: 1em; }
.footnotes + .footnotes { margin-top: -1em; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: transparent; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: normal; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li p, li .mathjax-block { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; }
@media print {
  html, body { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  h1, h2, h3, h4, h5, h6 { break-after: avoid-page; orphans: 2; }
  p { orphans: 4; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 1cm; padding-right: 1cm; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  @page { margin: 20mm 0mm; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 2.86rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > img:only-child { display: block; margin: auto; }
p .md-image:only-child { display: inline-block; width: 100%; text-align: center; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.mathjax-block { white-space: pre; overflow: hidden; width: 100%; }
p + .mathjax-block { margin-top: -1.143rem; }
.mathjax-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: none; box-shadow: none; }
.task-list { list-style-type: none; }
.task-list-item { position: relative; padding-left: 1em; }
.task-list-item input { position: absolute; top: 0px; left: 0px; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc::after, .md-toc-content::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: bold; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
.md-tag { opacity: 0.5; }
pre, code, tt { font-family: var(--monospace); }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; }
h1 .md-tag, h2 .md-tag, h3 .md-tag, h4 .md-tag, h5 .md-tag, h6 .md-tag { font-weight: initial; opacity: 0.35; }
a.md-print-anchor { border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: none !important; background: transparent !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.mathjax-block .MathJax_SVG_Display { text-align: center; margin: 1em 0em; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: monospace; }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: normal; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; }
table tr th { border-bottom: 0px; }


:root { --side-bar-bg-color: #fafafa; --control-text-color: #777; }
@font-face { font-family: "Open Sans"; font-style: normal; font-weight: normal; src: local("Open Sans Regular"), url("./github/400.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: italic; font-weight: normal; src: local("Open Sans Italic"), url("./github/400i.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: normal; font-weight: bold; src: local("Open Sans Bold"), url("./github/700.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: italic; font-weight: bold; src: local("Open Sans Bold Italic"), url("./github/700i.woff") format("woff"); }
html { font-size: 16px; }
body { font-family: "Open Sans", "Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif; color: rgb(51, 51, 51); line-height: 1.6; }
#write { max-width: 860px; margin: 0px auto; padding: 20px 30px 100px; }
#write > ul:first-child, #write > ol:first-child { margin-top: 30px; }
body > :first-child { margin-top: 0px !important; }
body > :last-child { margin-bottom: 0px !important; }
a { color: rgb(65, 131, 196); }
h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text; }
h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor { text-decoration: none; }
h1 tt, h1 code { font-size: inherit; }
h2 tt, h2 code { font-size: inherit; }
h3 tt, h3 code { font-size: inherit; }
h4 tt, h4 code { font-size: inherit; }
h5 tt, h5 code { font-size: inherit; }
h6 tt, h6 code { font-size: inherit; }
h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
h3 { font-size: 1.5em; line-height: 1.43; }
h4 { font-size: 1.25em; }
h5 { font-size: 1em; }
h6 { font-size: 1em; color: rgb(119, 119, 119); }
p, blockquote, ul, ol, dl, table { margin: 0.8em 0px; }
li > ol, li > ul { margin: 0px; }
hr { height: 4px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border-width: 0px 0px 1px; border-style: none none solid; border-top-color: initial; border-right-color: initial; border-left-color: initial; border-image: initial; overflow: hidden; box-sizing: content-box; border-bottom-color: rgb(221, 221, 221); }
body > h2:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child + h2 { margin-top: 0px; padding-top: 0px; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child { margin-top: 0px; padding-top: 0px; }
a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 { margin-top: 0px; padding-top: 0px; }
h1 p, h2 p, h3 p, h4 p, h5 p, h6 p { margin-top: 0px; }
li p.first { display: inline-block; }
ul, ol { padding-left: 30px; }
ul:first-child, ol:first-child { margin-top: 0px; }
ul:last-child, ol:last-child { margin-bottom: 0px; }
blockquote { border-left: 4px solid rgb(221, 221, 221); padding: 0px 15px; color: rgb(119, 119, 119); }
blockquote blockquote { padding-right: 0px; }
table { padding: 0px; word-break: initial; }
table tr { border-top: 1px solid rgb(204, 204, 204); margin: 0px; padding: 0px; }
table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
table tr th { font-weight: bold; border-width: 1px 1px 0px; border-top-style: solid; border-right-style: solid; border-left-style: solid; border-top-color: rgb(204, 204, 204); border-right-color: rgb(204, 204, 204); border-left-color: rgb(204, 204, 204); border-image: initial; border-bottom-style: initial; border-bottom-color: initial; text-align: left; margin: 0px; padding: 6px 13px; }
table tr td { border: 1px solid rgb(204, 204, 204); text-align: left; margin: 0px; padding: 6px 13px; }
table tr th:first-child, table tr td:first-child { margin-top: 0px; }
table tr th:last-child, table tr td:last-child { margin-bottom: 0px; }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); }
.md-fences, code, tt { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); border-radius: 3px; font-family: Consolas, "Liberation Mono", Courier, monospace; padding: 2px 4px 0px; font-size: 0.9em; }
.md-fences { margin-bottom: 15px; margin-top: 15px; padding: 8px 1em 6px; }
.task-list { padding-left: 0px; }
.task-list-item { padding-left: 32px; }
.task-list-item input { top: 3px; left: 8px; }
@media screen and (min-width: 914px) {
}
@media print {
  html { font-size: 13px; }
  table, pre { break-inside: avoid; }
  pre { word-wrap: break-word; }
}
.md-fences { background-color: rgb(248, 248, 248); }
#write pre.md-meta-block { padding: 1rem; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border: 0px; border-radius: 3px; color: rgb(119, 119, 119); margin-top: 0px !important; }
.mathjax-block > .code-tooltip { bottom: 0.375rem; }
#write > h3.md-focus::before { left: -1.5625rem; top: 0.375rem; }
#write > h4.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h5.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h6.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
.md-image > .md-meta { border: 1px solid rgb(221, 221, 221); border-radius: 3px; font-family: Consolas, "Liberation Mono", Courier, monospace; padding: 2px 4px 0px; font-size: 0.9em; color: inherit; }
.md-tag { color: inherit; }
.md-toc { margin-top: 20px; padding-bottom: 20px; }
.sidebar-tabs { border-bottom: none; }
#typora-quick-open { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); }
#typora-quick-open-item { background-color: rgb(250, 250, 250); border-color: rgb(254, 254, 254) rgb(229, 229, 229) rgb(229, 229, 229) rgb(238, 238, 238); border-style: solid; border-width: 1px; }
#md-notification::before { top: 10px; }
.on-focus-mode blockquote { border-left-color: rgba(85, 85, 85, 0.12); }
header, .context-menu, .megamenu-content, footer { font-family: "Segoe UI", Arial, sans-serif; }
.file-node-content:hover .file-node-icon, .file-node-content:hover .file-node-open-state { visibility: visible; }
.mac-seamless-mode #typora-sidebar { background-color: var(--side-bar-bg-color); }
.md-lang { color: rgb(180, 101, 77); }




h3::before { content: "#"; float: left; width: 20px; margin-left: -20px; color: rgb(66, 185, 131); }
code { padding: 3px 5px; background-color: rgb(248, 248, 248); color: rgb(233, 105, 0); border: 0px; border-radius: 2px; white-space: nowrap; }
img { border: 2px solid rgb(238, 238, 238); }
mark { background-color: rgb(237, 255, 149); }
mark code { background-color: transparent; }


</style>
</head>
<body class='typora-export' >
<div  id='write'  class = 'is-node'><h1><a name='header-n0' class='md-header-anchor '></a>基础部分</h1><h2><a name='header-n4' class='md-header-anchor '></a>01课</h2><p>javascript诞生于1995年5月。
javascript之父 Brendan Eich 10天  完成任务的心态。</p><p>最初是叫 LiveScript（活力脚本） 傍大牌  营销手段<br/></p><p>javascript与java没有一毛钱关系。  北大和北大青鸟   ，  雷锋和雷峰塔；</p><p>几个月后，微软推出IE3  Jscript；</p><p>微软的哲学观：当别人火了以后，就要自己捣鼓一个差不多的东西出来，并且这个东西还不好使，过段时间就没人请学，这时候才想着回头来兼容别人的东西，并且还兼容不好。</p><p>javascript提交给了Ecma International（一个欧洲的标准化组织），在1997年这个组织就推出了EcmaScript的第一个版本</p><p>**  ECMAScript是javascript语言的标准。**</p><p>2003年之前有一个外号：牛皮癣。<br/>
2004年：google从js的内部发现了一个对象，ajax，用来进行异步操作；用来提示用户体验。
2008年，google推出chrome浏览器。搭载是google自行开发的V8引擎。
2009年，jquery是js的一个库，开始流行起来。
2010年，canvas画布这个技术，得到了很多浏览器的支持。
2011年，nodejs得到广泛的运用。
2015年，ECMAScript的第6个版本发布。ES2015</p><p>JavaScript基于原型的动态解释性脚本语言</p><h3><a name='header-n30' class='md-header-anchor '></a>前端三层</h3><blockquote><ul><li>结构层：html标签</li><li>表现层：css</li><li>行为层：js</li></ul></blockquote><hr /><h2><a name='header-n43' class='md-header-anchor '></a>02课</h2><p>alert()</p><p>js代码要写在script标签里</p><p>&nbsp;</p><h4><a name='header-n50' class='md-header-anchor '></a>script的位置</h4><p>任意，根据规范，一般写在body结束标签之前。</p><h4><a name='header-n53' class='md-header-anchor '></a>弹窗</h4><ul><li>alert（）	只有一个确定按钮</li><li>confirm（）比alert多了一个取消按钮。</li><li>prompt（）比alert多了一个取消按钮，还多了一个类似input的输入框</li></ul><h4><a name='header-n65' class='md-header-anchor '></a>注释</h4><p>单行注释： //</p><p>多行注释：/* */</p><h4><a name='header-n70' class='md-header-anchor '></a>通过id获取标签</h4><p><code>document.getElementById(&quot;box&quot;)</code></p><p>在js里，对象=标签=节点=元素</p><p>调试的一种常用方式：console.log()</p><p>&nbsp;</p><h4><a name='header-n79' class='md-header-anchor '></a>+号的问题</h4><ul><li><p>当 加号 两边都是数字的时候，这时加号是数学意义上的加号运算符。</p></li><li><p>当 加号 两边有其中一边是字符串的时候，就是拼接。</p><p>注意：被引号引起来的东西，不管是啥，都叫字符串。</p></li></ul><h4><a name='header-n89' class='md-header-anchor '></a>innerHTML</h4><p>获取/设置 对象标签内的内容</p><p>注意：innerHTML会解析标签。</p><h4><a name='header-n94' class='md-header-anchor '></a>innerText</h4><p>获取/设置 对象标签内的内容</p><p>注意：跟innerHTML的区别是：innerText 不会解析标签。</p><h4><a name='header-n99' class='md-header-anchor '></a>等号问题</h4><p>在js里，遇到等号，要先读等号的右边，右边读完了才进行赋值。</p><h4><a name='header-n102' class='md-header-anchor '></a>变量</h4><p>变量其实就是起的一个听起来比较高端的东西，</p><p>** 使用变量的时候，实际是使用变量的值。**</p><p>变量只用声明一次，再次使用不需要声明，直接使用。</p><h4><a name='header-n109' class='md-header-anchor '></a>变量的命名规则</h4><ol start='' ><li>注意大小写</li><li>可以使用：  字母  数字   $    _<br/></li><li>不能以数字开头</li><li>通常要求见名知意。</li></ol><p><strong>字符串两边的引号，在弹窗/打印 的时候，都不会显示出来</strong></p><h4><a name='header-n125' class='md-header-anchor '></a>独有标签不需要获取</h4><ul><li>body   title   head 这是独有标签</li><li>document.body</li><li>document.title   注意：title 获取的时候，不是标签，而是这个标签的innerHTML</li><li>document.head</li></ul><hr /><h2><a name='header-n140' class='md-header-anchor '></a>03课</h2><h4><a name='header-n141' class='md-header-anchor '></a>弹窗的问题。</h4><p>alert();  说明执行完了就被回收了！</p><p>confirm()  点击确定返回true（真），点击取消返回false（假）</p><p>prompt()  点击确定返回输入框里输入的内容。点击取消返回null（空）</p><p><strong>变量定义不赋值（系统会在内部默认赋值undefined）</strong></p><hr /><h4><a name='header-n151' class='md-header-anchor '></a>document.write()</h4><p>往body的里追加内容。</p><h4><a name='header-n154' class='md-header-anchor '></a>window.onload=函数；</h4><p>当页面里的所有内容加载完成后，才执行。</p><p>注意，如果说在head里引入js文件的时候，为了避免错误，最好放在window.onload里</p><p><strong>window.onload跟document.write配合使用时，会覆盖body里的所有内容</strong></p><p>&nbsp;</p><h4><a name='header-n163' class='md-header-anchor '></a>事件</h4><p>鼠标事件、键盘事件、表单事件、系统事件</p><h4><a name='header-n166' class='md-header-anchor '></a>事件注册</h4><p>对象.事件=函数</p><h4><a name='header-n169' class='md-header-anchor '></a>函数/方法</h4><p>底层给用户提供的方法，就叫做API。</p><p>function(){}</p><p>作用，就是把一堆代码包起来。其实也就是我们常说的封装。</p><p>函数分为两种：</p><ul><li>有名函数，就是说这个函数是有名字的。function <strong>fn</strong>(){};</li><li>匿名/无名函数，就说没有名字的函数。function(){};</li></ul><p><strong>注意</strong>：匿名函数不能一个人孤独的呆着。</p><p>​	   匿名函数必须要一个变量来接收，或者作为事件函数。</p><p>&nbsp;</p><h4><a name='header-n191' class='md-header-anchor '></a>有名函数的执行：函数名();  函数名加括号也叫做函数的自执行。</h4><p>有名函数作为事件函数时，不需要加加括号。</p><p>&nbsp;</p><p>** 在js里，只有函数可以加括号。**</p><p>所有加括号的东西，都是函数。</p><p>&nbsp;</p><h4><a name='header-n202' class='md-header-anchor '></a>函数里的this</h4><p>并不是只有事件函数才有this。而是所有的函数都有this关键字。</p><p><strong>这个this关键字的指向是看函数的执行方式来判断的：</strong></p><ol start='' ><li>当函数是<strong>自执行</strong>的函数，函数内部this，指向window。</li><li>当函数作为事件函数时，事件函数内部的this指向---事件对象。</li></ol><hr /><h2><a name='header-n215' class='md-header-anchor '></a>04课</h2><h4><a name='header-n216' class='md-header-anchor '></a>事件</h4><p>鼠标、键盘、input、系统</p><h4><a name='header-n219' class='md-header-anchor '></a>函数</h4><p>function fn (){}</p><p>&nbsp;</p><h4><a name='header-n224' class='md-header-anchor '></a>修改标签的属性</h4><p>js操作的是行内样式。</p><p>js里写样式的时候，遇到了复合样式，要使用驼峰命名。</p><h4><a name='header-n229' class='md-header-anchor '></a>驼峰命名</h4><p>例如：background-color</p><p>驼峰命名写法就是把第二个及以后单词的首字母大写。<strong>backgroundColor</strong></p><p>&nbsp;</p><p>修改对象样式有两种方式：</p><ol start='' ><li>对象.style.样式 = 值；</li><li>对象.style.cssText = 所有需要修改的属性，正常写在这里就好。（值是字符串）</li></ol><h4><a name='header-n245' class='md-header-anchor '></a>标签属性</h4><p>对象.属性名 = 值；</p><p>是一个标签里的属性</p><ol start='' ><li>js操作对象的class类名时要注意，需要写成className</li></ol><h4><a name='header-n255' class='md-header-anchor '></a>获取元素的其他方式</h4><ul><li>通过class
<strong>document.getElementsByClassName(&quot;class名字&quot;)</strong></li><li>通过name（这种方式主要是用来真针对获取input）
<strong>document.getElementsByName(&quot;name属性的值&quot;)</strong></li><li>通过tagName（通过标签选择器）
<strong>document.getElementsByTagName(&quot;标签选择器&quot;)</strong></li><li>通过querySelectorAll（所有满足条件的对象的集合）
<strong>document.querySelectorAll(&quot;任意css选择器&quot;)</strong></li></ul><p><strong>注意：以上都是集合，使用需要加下标[];(js里所有的下标都是从0开始的)</strong></p><ul><li>querySelector（选择满足条件的第一个）
<strong>document.querySelector(&quot;任意css选择器&quot;)</strong></li></ul><p><strong>上面这种方式只获取蛮满足条件的第一个对象，不是集合，可以直接使用</strong></p><hr /><h2><a name='header-n284' class='md-header-anchor '></a>05课</h2><h4><a name='header-n285' class='md-header-anchor '></a>回顾</h4><p>获取元素的方式</p><p>name</p><p>className</p><p>tagName（标签）</p><p>querySelectorAll（“css的选择器都可以传进来”）</p><p><strong>以上获取到的都是集合，就算只有一个，也是集合，使用需要加下标 [对应的下标]</strong></p><p>js里的下标是从0开始的。</p><p><strong>通过style来操作对象的属性</strong></p><p>style读取/设置的是标签的<strong>行内样式</strong></p><p>&nbsp;</p><p>&nbsp;</p><h4><a name='header-n308' class='md-header-anchor '></a>合法的标签属性</h4><p>对象.属性名 </p><h4><a name='header-n312' class='md-header-anchor '></a>自定义标签属性</h4><p>不可以通过对象.属性名来操作！</p><p>&nbsp;</p><h4><a name='header-n317' class='md-header-anchor '></a>getAttribute</h4><p>获取自定义标签属性：</p><p>对象.getAttribute(“自定义属性名”)</p><p>&nbsp;</p><h4><a name='header-n324' class='md-header-anchor '></a>setAttribute</h4><p>设置：</p><p>对象.setAttribute(“属性名” , “对应的值”)</p><p>&nbsp;</p><h4><a name='header-n332' class='md-header-anchor '></a>removeAttribute</h4><p>删除：</p><p>对象.removeAttribute（“属性名）</p><p><strong>以上的三个方法还可以用来操作合法标签属性，但是非常不建议使用来操作合法的属性</strong></p><p>&nbsp;</p><h4><a name='header-n341' class='md-header-anchor '></a>js变量的数据类型</h4><ul><li><p>基本类型：简单的数据段</p><ul><li>Undefined</li><li>Null</li><li>Boolean</li><li>Number</li><li>String
<strong>不能给基本类型的值添加属性</strong></li></ul></li><li><p>引用类型：由多个值构成的对象</p><ul><li><p>Object</p><p>​</p></li></ul></li></ul><h4><a name='header-n372' class='md-header-anchor '></a>6大数据类型</h4><p><code>number</code>  <code>string</code>  <code>boolean</code> <code>function</code> <code>object</code> <code>undefined</code></p><p>NaN是number类型
null是object类型
所有被引号引起来的都是字符串，
要注意，js里的单双引号没有区别，但是必须成对出现。</p><hr /><h2><a name='header-n381' class='md-header-anchor '></a>07课</h2><h4><a name='header-n382' class='md-header-anchor '></a>判断if</h4><p>条件分支语句</p><p>判断条件</p><p><code>&gt;</code>   <code>&lt;</code>   <code>&gt;=</code>  <code>&lt;=</code>   <code>==</code>   <code>!=</code>  <code>===</code>  <code>!==</code></p><ul><li><code>==</code>	等于  会进行强制类型装转换</li><li><code>!=</code>  不等于  会进行强制类型装转换</li><li><code>===</code>  全等于/恒等于   只会比较值，而不会进行类型转换</li><li><code>!==</code>  不全等于同上</li></ul><p>if可以有很多的分支语句，看需求来写，</p><pre class="md-fences md-end-block" lang="javascript" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span>(){</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}<span class="cm-keyword">else</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}<span class="cm-keyword">else</span> <span class="cm-keyword">if</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}<span class="cm-keyword">else</span> <span class="cm-keyword">if</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//注意：如果if只有真和假的时候，并且真和假的分支都只有一条语句，那么可以写成三目</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//  条件 ？ 真的执行语句 ： 假的执行语句；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">a</span><span class="cm-operator">&gt;</span><span class="cm-variable">b</span><span class="cm-operator">?</span><span class="cm-variable">alert</span>(<span class="cm-string">"大于"</span>):<span class="cm-variable">alert</span>(<span class="cm-string">"不大于"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//上面这个等价于下面这种写法</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span>(<span class="cm-variable">a</span><span class="cm-operator">&gt;</span><span class="cm-variable">b</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">alert</span>(<span class="cm-string">"大于"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}<span class="cm-keyword">else</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">alert</span>(<span class="cm-string">"不大于"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 515px;"></div><div class="CodeMirror-gutters" style="display: none; height: 545px;"></div></div></div></pre><p><strong>如果比较符是全等于的时候 ===</strong></p><pre class="md-fences md-end-block" lang="javascript" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span>(<span class="cm-variable">a</span><span class="cm-operator">===</span><span class="cm-variable">b</span>){</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">alert</span>(<span class="cm-string">"跟B是全等的"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}<span class="cm-keyword">else</span> <span class="cm-keyword">if</span>(<span class="cm-variable">a</span><span class="cm-operator">===</span><span class="cm-variable">c</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">alert</span>(<span class="cm-string">"跟C是全等的"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}<span class="cm-keyword">else</span> <span class="cm-keyword">if</span>(<span class="cm-variable">a</span><span class="cm-operator">===</span><span class="cm-variable">d</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">alert</span>(<span class="cm-string">"跟D是全等的"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//上面的写法等价于下面的写法</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">switch</span> (<span class="cm-variable">a</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">case</span> <span class="cm-variable">b</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">alert</span>(<span class="cm-string">"跟B是全等的"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">case</span> <span class="cm-variable">c</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">alert</span>(<span class="cm-string">"跟C是全等的"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">case</span> <span class="cm-variable">d</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">alert</span>(<span class="cm-string">"跟D是全等的"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">default</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">alert</span>(<span class="cm-string">"都不是"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 470px;"></div><div class="CodeMirror-gutters" style="display: none; height: 500px;"></div></div></div></pre><p>&nbsp;</p><p><strong>前置++和后置++的区别</strong></p><p>前置++：先自己递增1后，在去进行其他的运算；</p><p>后置++：先把自己原来的值拿去进行其他运算后，再自己递增。</p><p><strong>当前置++或者后置++是一条独立语句，并且没有其他运算的时候，没有区别</strong></p><p>&nbsp;</p><h4><a name='header-n420' class='md-header-anchor '></a>for（语句1 定义；语句2 条件；语句4 变化量）{语句3 代码块}</h4><p>执行顺序：</p><p>1 》2》3》4》2》3》4》2》3》4》2》3》4》2》3》4》2</p><p>最后到2停止。</p><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span>(<span class="cm-keyword">var</span> <span class="cm-def">i</span><span class="cm-operator">=</span><span class="cm-number">0</span>;<span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-number">10</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>){</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">i</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">// 0 1 2 3 4 5 6 7 8 9</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 91px;"></div><div class="CodeMirror-gutters" style="display: none; height: 121px;"></div></div></div></pre><hr /><h2><a name='header-n429' class='md-header-anchor '></a>08课</h2><h4><a name='header-n430' class='md-header-anchor '></a>for循环里有俩关键字</h4><ul><li>continue    //跳出本次循环</li><li>break;      //跳出所有循环</li></ul><h4><a name='header-n438' class='md-header-anchor '></a>label</h4><p>标记for</p><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fy</span>: &nbsp;<span class="cm-comment">// 给for起名</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span>(<span class="cm-keyword">var</span> <span class="cm-def">i</span><span class="cm-operator">=</span><span class="cm-number">0</span>;<span class="cm-variable">i</span><span class="cm-operator">&lt;</span><span class="cm-number">5</span>;<span class="cm-variable">i</span><span class="cm-operator">++</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">fl</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span>(<span class="cm-keyword">var</span> <span class="cm-def">j</span><span class="cm-operator">=</span><span class="cm-number">0</span>;<span class="cm-variable">j</span><span class="cm-operator">&lt;</span><span class="cm-number">5</span>;<span class="cm-variable">j</span><span class="cm-operator">++</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">i</span><span class="cm-operator">===</span><span class="cm-number">1</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">continue</span> <span class="cm-variable">fy</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">"i的第"</span><span class="cm-operator">+</span><span class="cm-variable">i</span><span class="cm-operator">+</span><span class="cm-string">'次-----'</span><span class="cm-operator">+</span><span class="cm-string">"j的第"</span><span class="cm-operator">+</span><span class="cm-variable">j</span><span class="cm-operator">+</span><span class="cm-string">'次'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 246px;"></div><div class="CodeMirror-gutters" style="display: none; height: 276px;"></div></div></div></pre><h4><a name='header-n442' class='md-header-anchor '></a>while、do while</h4><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// while</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-number">2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span>(<span class="cm-variable">i</span><span class="cm-operator">&lt;</span><span class="cm-number">1</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">i</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">i</span><span class="cm-operator">++</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// do while 至少执行一次</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-number">5</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">do</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">i</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">i</span><span class="cm-operator">++</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}<span class="cm-keyword">while</span>(<span class="cm-variable">i</span><span class="cm-operator">&lt;</span><span class="cm-number">1</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 291px;"></div><div class="CodeMirror-gutters" style="display: none; height: 321px;"></div></div></div></pre><hr /><h2><a name='header-n445' class='md-header-anchor '></a>09课</h2><h4><a name='header-n446' class='md-header-anchor '></a>运算符</h4><p><code>+</code> <code>-</code> <code>*</code> <code>/</code>  <code>%</code></p><p><code>+</code>  如果+的两边有一边是字符串，那么就是拼接。 在内部悄悄的调用Number()</p><p><code>-</code> <code>*</code> <code>/</code> <code>%</code>  如果两边都是数字，就是数学意义上的运算符。
假如 有一边是数字，另外一边不是数字，那么会尝试把不是数字的转换为数字，在进行运算，如果没有办法转为数字，那么就是NaN</p><p><code>%</code>  取余 / 模</p><h4><a name='header-n456' class='md-header-anchor '></a>NaN  (not a number)</h4><p>   不是一个数字，
   NaN的数据类型是number
   isNaN()  用来检测一个对象  是不是NaN，如果是NaN那么返回true，反之false。</p><p>   出现NaN的情况，一定是前面有非法的数学运算。</p><h4><a name='header-n464' class='md-header-anchor '></a>赋值运算符</h4><p><code>=</code>  <code>+=</code>  <code>-=</code> <code>*=</code> <code>/=</code>  <code>++</code>  <code>--</code>  <code>%=</code></p><h4><a name='header-n468' class='md-header-anchor '></a>比较运算符</h4><p><code>&gt;</code> <code>&lt;</code> <code>&gt;=</code> <code>&lt;=</code> <code>!=</code> <code>==</code> <code>===</code> <code>!==</code></p><h4><a name='header-n472' class='md-header-anchor '></a>逻辑运算符</h4><ul><li><code>&amp;&amp;</code>   与(逻辑与)   并且，遇到true就通过，遇到false就停止， </li><li><code>||</code>   或（逻辑或）  或者，遇到false就通过，遇到true就停止。</li><li><code>!</code>    非           不是自己，取反！不是去false</li></ul><h4><a name='header-n483' class='md-header-anchor '></a>显示类型转换</h4><ul><li><p>Number()
会排除开始和结尾的空格，中间的空格不会被过滤。</p><pre class="md-fences md-end-block" lang=""> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> 从第一位不是空格的字符开始一直到最后，如果发现不是一个常规的数字，就会返回NaN</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre></li><li><p>parseInt()
从第一个不是空格的字符开始，到不是数字的地方结束。过滤小数部分</p></li><li><p>parseFloat();
从第一个不是空格的字符开始，到不是数字的地方结束，但是允许小数点出现一次。</p></li></ul><hr /><h2><a name='header-n499' class='md-header-anchor '></a>10课</h2><h3><a name='header-n500' class='md-header-anchor '></a>函数的分类</h3><h4><a name='header-n501' class='md-header-anchor '></a>有名函数</h4><p>也叫函数声明/函数定义，不能直接在后面加()执行，//不仅不会执行，还会语法报错</p><pre class="md-fences md-end-block" lang=""> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">function fn(){}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre><h4><a name='header-n506' class='md-header-anchor '></a>函数表达式</h4><p>可以直接加()执行</p><pre class="md-fences md-end-block" lang=""> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">var fn = function (){};</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre><h4><a name='header-n511' class='md-header-anchor '></a>匿名函数</h4><p>必须自执行，否则无意义</p><p>前缀 <code>!</code> <code>+</code> <code>-</code> <code>~</code> 或把语句整个括起来</p><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">(<span class="cm-keyword">function</span> (){}())</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">!</span><span class="cm-keyword">function</span> (){}()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">+</span><span class="cm-keyword">function</span> (){}()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">-</span><span class="cm-keyword">function</span> (){}()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">~</span><span class="cm-keyword">function</span> (){}()</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 112px;"></div><div class="CodeMirror-gutters" style="display: none; height: 142px;"></div></div></div></pre><h4><a name='header-n517' class='md-header-anchor '></a>参数</h4><ul><li>函数执行时，括号里传递进函数体的那个参数是： 实参</li><li>函数体里，使用一个对应变量来接收，函数执行时传进去的参数，叫: 形参</li><li>形参也需要符合变量的命名规则。</li><li>在定义步骤时，形参隐藏了定义的过程，并赋值</li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">fn</span>(<span class="cm-def">a</span>){ <span class="cm-comment">// 形参,等于var a,</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">alert</span>(<span class="cm-variable-2">a</span>) &nbsp;<span class="cm-operator">==&gt;</span> <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fn</span>(<span class="cm-number">1</span>) &nbsp;<span class="cm-comment">// 实参</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 112px;"></div><div class="CodeMirror-gutters" style="display: none; height: 142px;"></div></div></div></pre><h4><a name='header-n532' class='md-header-anchor '></a>不定参</h4><p><code>arguments</code> ：类数组</p><p><code>arguments.callee</code> ：代表当前函数</p><p><strong>类数组和数组的区别：</strong> 类数组不能使用数组的方法</p><h4><a name='header-n539' class='md-header-anchor '></a>return</h4><p>函数执行完后被回收，默认的返回值是 <code>undefined</code>;</p><p><strong>return</strong></p><ol start='' ><li>改变函数的返回值</li><li>当函数执行到return 就把 <code>return</code> 后面的东西返回，函数停止执行。</li></ol><hr /><h2><a name='header-n552' class='md-header-anchor '></a>11课</h2><h4><a name='header-n553' class='md-header-anchor '></a>隐式类型转换</h4><p><code>-</code> <code>*</code> <code>/</code> <code>++</code> <code>--</code></p><p>以上符号在运算是，会把符号两边的数据转为 <code>number</code> 来运算，如果都可以转为 <code>number</code> 类型，那就直接运算，
如果有一边不能转为正常数字，就报 <code>NaN</code></p><h4><a name='header-n559' class='md-header-anchor '></a>小数运算精度的问题</h4><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">a</span> <span class="cm-operator">=</span> <span class="cm-number">0.1</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">b</span> <span class="cm-operator">=</span> <span class="cm-number">0.2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">c</span> <span class="cm-operator">=</span> <span class="cm-variable">a</span><span class="cm-operator">*</span><span class="cm-number">10</span> <span class="cm-operator">+</span> <span class="cm-variable">b</span><span class="cm-operator">*</span><span class="cm-number">10</span>; &nbsp;<span class="cm-comment">// 以10倍数整数后运算得出结果,再变成小数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">alert</span>(<span class="cm-variable">c</span><span class="cm-operator">/</span><span class="cm-number">10</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 112px;"></div><div class="CodeMirror-gutters" style="display: none; height: 142px;"></div></div></div></pre><h4><a name='header-n561' class='md-header-anchor '></a>eval( )</h4><p>尝试解析一段字符串当成 JS 代码</p><p>&nbsp;</p><hr /><h2><a name='header-n567' class='md-header-anchor '></a>12课</h2><h4><a name='header-n568' class='md-header-anchor '></a>解析顺序</h4><p>从上往下执行</p><p><strong>ES5有声明意义的关键字：</strong></p><ul><li>var 会存在变量提升</li><li>function 也有声明变量的作用。</li><li>当function声明的变量和var声明的变量重名时,** <code>function</code> 的变量权重会比 <code>var</code> 声明的要高**</li></ul><p>解析顺序：</p><pre class="md-fences md-end-block" lang=""> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  　　1. 找声明，var / function &nbsp; * 声明：只是声明变量，而不包括赋值</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  　　2. 执行</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  以上两步：都遵循从上之下，</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  　　　　但是执行的时候:如果遇到等号，先看等号右边。</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 120px;"></div></div></div></pre><h4><a name='header-n587' class='md-header-anchor '></a>作用域</h4><ul><li><p>ES5里的作用域：</p><ol start='' ><li><p>全局作用域</p><ol start='2' ><li>函数作用域</li></ol></li></ol></li></ul><blockquote><ul><li>script是最大的作用域。每一个script 都是一个作用域。</li><li>作用域：起作用的范围。</li><li>子作用域可以向父作用域找变量，直到找到全局作用域为止，找不到则会报错。</li><li>全局变量都是寄存到window对象下, 如果一个属性的宿主是window，那么window可以省略。<code>window.document</code></li><li><code>var a = 2.1; //全局变量</code>  所有的全局变量都在window对象下</li><li>当一个变量没有声明就使用时，不管在哪个作用域出来的，统统归到window下</li><li>函数的作用域在函数定义时就决定了它的位置，而不是在执行的时候决定的。只不过这个作用域在执行时，才生效。</li><li>if、for没有作用域</li></ul></blockquote><h4><a name='header-n627' class='md-header-anchor '></a>严格模式</h4><ul><li><code>&#39;use strict&#39;;</code></li><li>严格模式下的代码执行时，非常严格。</li><li>变量不允许无中生有、</li><li>意义：规范代码开发的流畅，逻辑</li><li>ES6默认严格模式</li></ul><hr /><h2><a name='header-n645' class='md-header-anchor '></a>13课</h2><h4><a name='header-n646' class='md-header-anchor '></a>闭包</h4><p>闭包的<strong>形成条件</strong>：</p><pre class="md-fences md-end-block" lang=""> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; 　1. 函数嵌套函数</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; 　2. 内部函数使用了外部函数的变量/参数。</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 75px;"></div></div></div></pre><p>作用：内部函数使用到的那个  变量/参数  会被永久的保存在内部函数。</p><p>//同一个函数定义，执行多次会产生不同的作用域</p><p>优点就是缺点：使用的那个变量会被保存不会被释放（除了刷新页面或关闭页面），由于闭包的特性，会对内存的消耗较大。</p><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/*</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; 就这个例子而言自执行this也是指向事件对象。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; 事件函数的this 定义时默认绑定了事件对象。除非人为改变。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">box</span>.<span class="cm-property">onclick</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span> (<span class="cm-def">e</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable-2">e</span>) &nbsp;<span class="cm-operator">==&gt;</span> <span class="cm-variable-2">e</span> <span class="cm-variable">指向box</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//box.onclick();</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 269px;"></div><div class="CodeMirror-gutters" style="display: none; height: 299px;"></div></div></div></pre><p>&nbsp;</p><hr /><h2><a name='header-n661' class='md-header-anchor '></a>14课</h2><h3><a name='header-n663' class='md-header-anchor '></a>回顾--闭包</h3><p>事件函数的返回值不能保存</p><p>window.onload
document.onclick
...</p><pre class="md-fences md-end-block" lang="javascript" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">document</span>.<span class="cm-property">onclick</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>() {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">a</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">alert</span>(<span class="cm-variable-2">a</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-def">a</span>; &nbsp;<span class="cm-operator">==&gt;</span> <span class="cm-variable">a不能保存</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 闭包的使用</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">document</span>.<span class="cm-variable">onclick</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">var</span> <span class="cm-variable-2">a</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">console</span>.<span class="cm-variable">log</span>(<span class="cm-keyword">this</span>) &nbsp;<span class="cm-operator">==&gt;</span> <span class="cm-variable">window</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-keyword">function</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">console</span>.<span class="cm-variable">log</span>(<span class="cm-keyword">this</span>) &nbsp;<span class="cm-operator">==&gt;</span> <span class="cm-variable">document</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">alert</span>(<span class="cm-operator">++</span><span class="cm-variable-2">a</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span>(<span class="cm-keyword">var</span> <span class="cm-variable">i</span><span class="cm-operator">=</span><span class="cm-number">0</span>; <span class="cm-variable">i</span><span class="cm-operator">&lt;</span><span class="cm-variable">aLi</span>.<span class="cm-variable">lenght</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  (<span class="cm-keyword">function</span>(<span class="cm-variable">i</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">aLi</span>[<span class="cm-variable">i</span>].<span class="cm-variable">onclick</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">alert</span>(<span class="cm-variable">i</span>) &nbsp;<span class="cm-operator">==&gt;</span> <span class="cm-variable">不同作用域下的</span> <span class="cm-variable">i</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  })(<span class="cm-variable">i</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 515px;"></div><div class="CodeMirror-gutters" style="display: none; height: 545px;"></div></div></div></pre><p>&nbsp;</p><h3><a name='header-n673' class='md-header-anchor '></a>字符串方法</h3><h4><a name='header-n674' class='md-header-anchor '></a>长度</h4><ul><li><p>length</p><ul><li>返回字符串的长度（包括空格）</li><li>只读属性，不可写（数组可写）</li><li><code>[]</code>取对应序列号的值（IE7有兼容性问题）</li><li><code>charAt()</code>取值，解决<code>[]</code>兼容性问题</li></ul></li></ul><h4><a name='header-n693' class='md-header-anchor '></a>ASCII</h4><ul><li>charCodeAt( )</li><li>String.fromCharCode( )</li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">str</span> <span class="cm-operator">=</span> <span class="cm-string">'123'</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">str</span>.<span class="cm-property">charCodeAt</span>(<span class="cm-variable">str</span>[<span class="cm-number">0</span>]) &nbsp;<span class="cm-operator">==&gt;</span> <span class="cm-number">49</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">String</span>.<span class="cm-property">fromCharCode</span>(<span class="cm-number">49</span>) &nbsp;<span class="cm-operator">==&gt;</span> <span class="cm-number">1</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 67px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><p>&nbsp;</p><h4><a name='header-n704' class='md-header-anchor '></a>查找</h4><ul><li><p>indexOf( )</p><p>[参数1] 要查找字符串
[参数2] 起始下标</p></li></ul><pre class="md-fences md-end-block" lang=""> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">var str = '这是一个字符串';</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">str.indexOf("一个");  ==&gt; 2</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">str.indexOf('1');  ==&gt; -1 没有找到</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 67px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><ul><li>charAt( )
参数为要查找字符的下标，默认为0</li></ul><h4><a name='header-n719' class='md-header-anchor '></a>替换</h4><ul><li>str.<strong>replace</strong>(匹配内容, 替换内容)</li></ul><h4><a name='header-n725' class='md-header-anchor '></a>截取</h4><ul><li><p><strong>substring( )</strong></p><p><code>str.substring()</code> 截取字符串（下标）
<code>str.substring(0,5)</code> // [0,5)  下标0-4 
<code>str.substring(5,0) == substring(0,5)</code> 会交换位置</p></li><li><p><strong>slice( )</strong></p><p>[参数1] 起始下标
[参数2] 结束下标
参数不会交换位置</p></li><li><p><strong>split( )</strong></p><p>分割字符串成数组
[参数] 分割点</p></li></ul><h4><a name='header-n748' class='md-header-anchor '></a>字母大小写</h4><ul><li><p>str.<strong>toLowerCase( )</strong></p><p>没有参数，把字母大写变小写</p></li><li><p>str.<strong>toUpperCase( )</strong></p><p>没有参数，把字母小写变成大写</p></li></ul><hr /><h3><a name='header-n761' class='md-header-anchor '></a>数组</h3><p>下标和长度的关系 ： <strong>下标 = length-1</strong></p><ul><li><p><strong>length</strong> ：长度
可读可写
[]数组下标</p></li><li><p><strong>slice( )</strong> ：截取子项</p><ul><li><p>基于当前数组中的一或多个项创建一个新数组。该方法不会影响原始数组。</p></li><li><p>接受一或两个参数，即要返回项的起始和结束位置。</p><ul><li>一个参数：从指定起始位置开始到末尾的所有项。</li><li>两个参数：从指定起始位置到结束位置所有的项，但不包括结束位置的项。</li></ul></li></ul></li><li><p><strong>splice(index, num, info)</strong> ：删除子项
返回删除的数组，会改变原数组
[参数1] 下标
[参数2] 删除的个数
[参数3] 替换的内容</p></li><li><p><strong>join( )</strong> ：数组 -&gt; 字符串
把数组拼接成字符串，不会改变原数组
[参数] 拼接符</p></li></ul><h4><a name='header-n800' class='md-header-anchor '></a>添加</h4><ul><li><strong>push( )</strong>
数组后面追加一项，返回修改后数组的长度
arr[arr.length] = 123
arr[arr.length] = 456
arr[arr.length] = 789</li><li><strong>unshift( )</strong>
在数组最前面加子项
[参数] 添加的内容</li></ul><h4><a name='header-n815' class='md-header-anchor '></a>删除</h4><ul><li><strong>pop( )</strong>
删除数组的最后一项，返回移除的值</li><li><strong>shift( )</strong>
删除数组的第一项，返回该项，同时将数组长度减1</li></ul><p>&nbsp;</p><h4><a name='header-n827' class='md-header-anchor '></a>排序</h4><ul><li><strong>sort(function( ){ })</strong>
默认按升序排列，会改变原数组。会调用每个数组项的 toString() 转型方法，然后比较得到的<strong>字符串</strong></li></ul><pre class="md-fences md-end-block" lang=""> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">arr.sort(function(a,b){</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  return a-b;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  return b-a;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  return 1;  倒置</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  return -1; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  return Math.random()-0.3;  随机</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">})</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 157px;"></div><div class="CodeMirror-gutters" style="display: none; height: 187px;"></div></div></div></pre><ul><li><strong>reverse( )</strong>
反转数组项的排序</li></ul><h4><a name='header-n840' class='md-header-anchor '></a>合并数组</h4><ul><li><strong>concat( )</strong>
基于当前数组中的所有项创建一个新数组</li></ul><pre class="md-fences md-end-block" lang=""> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">newArr = arr1.concat(arr2)</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre><p>&nbsp;</p><h4><a name='header-n849' class='md-header-anchor '></a>过滤/筛选</h4><ul><li><strong>filter(function( ){ })</strong>
过滤，不会改变原数组</li></ul><pre class="md-fences md-end-block" lang=""> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">// 取偶数</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">var newArr = arr.filter(function(t){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  if(t%2 == 0) return true;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 112px;"></div><div class="CodeMirror-gutters" style="display: none; height: 142px;"></div></div></div></pre><p>&nbsp;</p><h4><a name='header-n858' class='md-header-anchor '></a>数组项求和</h4><h5><a name='header-n859' class='md-header-anchor '></a>reduce()方法</h5><p><code>reduce()</code>方法接收一个函数<code>callbackfn</code>作为累加器（accumulator），数组中的每个值（从左到右）开始合并，最终为一个值。</p><p><strong>语法</strong></p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>.<span class="cm-property">reduce</span>(<span class="cm-variable">callbackfn</span>,[<span class="cm-variable">initialValue</span>])</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre><p><code>reduce()</code>方法接收<code>callbackfn</code>函数，而这个函数包含四个参数：</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">callbackfn</span>(<span class="cm-def">preValue</span>,<span class="cm-def">curValue</span>,<span class="cm-def">index</span>,<span class="cm-def">array</span>){}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre><ul><li><strong>preValue</strong>: 上一次调用回调返回的值，或者是提供的初始值（initialValue）</li><li><strong>curValue</strong>: 数组中当前被处理的数组项</li><li><strong>index</strong>: 当前数组项在数组中的索引值</li><li><strong>array</strong>: 调用 <code>reduce()</code>方法的数组</li></ul><p>而<code>initialValue</code>作为第一次调用 <code>callbackfn</code>函数的第一个参数。</p><p><code>reduce()</code>方法为数组中的每一个元素依次执行回调函数<code>callbackfn</code>，不包括数组中被删除或从未被赋值的元素，接受四个参数：初始值（或者上一次回调函数的返回值），当前元素值，当前索引，调用 <code>reduce()</code> 的数组。</p><p>回调函数第一次执行时，<code>preValue</code> 和 <code>curValue</code> 可以是一个值，如果 <code>initialValue</code> 在调用 <code>reduce()</code> 时被提供，那么第一个 <code>preValue</code> 等于 <code>initialValue</code> ，并且<code>curValue</code> 等于数组中的第一个值；如果<code>initialValue</code> 未被提供，那么<code>preValue</code> 等于数组中的第一个值，<code>curValue</code>等于数组中的第二个值。</p><p>来看一个示例：</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">arr</span> <span class="cm-operator">=</span> [<span class="cm-number">0</span>,<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">3</span>,<span class="cm-number">4</span>];</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">arr</span>.<span class="cm-property">reduce</span>(<span class="cm-keyword">function</span> (<span class="cm-def">preValue</span>,<span class="cm-def">curValue</span>,<span class="cm-def">index</span>,<span class="cm-def">array</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">preValue</span> <span class="cm-operator">+</span> <span class="cm-variable-2">curValue</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}); <span class="cm-comment">// 10</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 134px;"></div><div class="CodeMirror-gutters" style="display: none; height: 164px;"></div></div></div></pre><p>示例中的回调函数被执行四次，每次参数和返回的值如下：</p><figure><table><thead><tr><th>&nbsp;</th><th>preValue</th><th>curValue</th><th>index</th><th>array</th><th>返回值</th></tr></thead><tbody><tr><td>第一次回调</td><td>0</td><td>1</td><td>1</td><td>[0,1,2,3,4]</td><td>1</td></tr><tr><td>第二次回调</td><td>1</td><td>2</td><td>2</td><td>[0,1,2,3,4]</td><td>3</td></tr><tr><td>第三次回调</td><td>3</td><td>3</td><td>3</td><td>[0,1,2,3,4]</td><td>6</td></tr><tr><td>第四次回调</td><td>6</td><td>4</td><td>4</td><td>[0,1,2,3,4]</td><td>10</td></tr></tbody></table></figure><p>上面的示例<code>reduce()</code>方法没有提供<code>initialValue</code>初始值，接下来再上面的示例中，稍作修改，提供一个初始值，这个值为<code>5</code>。这个时候<code>reduce()</code>方法会执行五次回调，每次参数和返回的值如下：</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">arr</span> <span class="cm-operator">=</span> [<span class="cm-number">0</span>,<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">3</span>,<span class="cm-number">4</span>];</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">arr</span>.<span class="cm-property">reduce</span>(<span class="cm-keyword">function</span> (<span class="cm-def">preValue</span>,<span class="cm-def">curValue</span>,<span class="cm-def">index</span>,<span class="cm-def">array</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">preValue</span> <span class="cm-operator">+</span> <span class="cm-variable-2">curValue</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}, <span class="cm-number">5</span>); <span class="cm-comment">//15</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 134px;"></div><div class="CodeMirror-gutters" style="display: none; height: 164px;"></div></div></div></pre><figure><table><thead><tr><th>&nbsp;</th><th>preValue</th><th>curValue</th><th>index</th><th>array</th><th>返回值</th></tr></thead><tbody><tr><td>第一次回调</td><td>5</td><td>0</td><td>0</td><td>[0,1,2,3,4]</td><td>5</td></tr><tr><td>第二次回调</td><td>5</td><td>1</td><td>1</td><td>[0,1,2,3,4]</td><td>6</td></tr><tr><td>第三次回调</td><td>6</td><td>2</td><td>2</td><td>[0,1,2,3,4]</td><td>8</td></tr><tr><td>第四次回调</td><td>8</td><td>3</td><td>3</td><td>[0,1,2,3,4]</td><td>11</td></tr><tr><td>第五次回调</td><td>11</td><td>4</td><td>4</td><td>[0,1,2,3,4]</td><td>15</td></tr></tbody></table></figure><p>这样一来，不用多说，应该都知道，可以使用<code>reduce()</code>实现数组求和的功能。如：</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">arr</span> <span class="cm-operator">=</span> [<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">3</span>,<span class="cm-number">4</span>,<span class="cm-number">5</span>,<span class="cm-number">6</span>];</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Array</span>.<span class="cm-property">prototype</span>.<span class="cm-property">sum</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span> (){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">sumResult</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-keyword">this</span>.<span class="cm-property">reduce</span>(<span class="cm-keyword">function</span> (<span class="cm-def">preValue</span>, <span class="cm-def">curValue</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">sumResult</span> <span class="cm-operator">=</span> <span class="cm-variable-2">preValue</span> <span class="cm-operator">+</span> <span class="cm-variable-2">curValue</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  });</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">sumResult</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">arr</span>.<span class="cm-property">sum</span>(); <span class="cm-comment">// 21</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 246px;"></div><div class="CodeMirror-gutters" style="display: none; height: 276px;"></div></div></div></pre><p>回到文章的前面，来看看使用<code>reduce()</code>方法对数组求和，需要多少时间：</p><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">arr</span> <span class="cm-operator">=</span> [<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">3</span>,<span class="cm-number">4</span>,<span class="cm-number">5</span>,<span class="cm-number">6</span>];</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">time</span>(<span class="cm-string">"ruduce"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Array</span>.<span class="cm-property">prototype</span>.<span class="cm-property">ruduceSum</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span> (){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable-2">i</span> <span class="cm-operator">&lt;</span> <span class="cm-number">10000</span>; <span class="cm-variable-2">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">reduce</span> (<span class="cm-keyword">function</span> (<span class="cm-def">preValue</span>, <span class="cm-def">curValue</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">preValue</span> <span class="cm-operator">+</span> <span class="cm-variable-2">curValue</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  });</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">arr</span>.<span class="cm-property">ruduceSum</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">'最终的值：'</span> <span class="cm-operator">+</span> <span class="cm-variable">arr</span>.<span class="cm-property">ruduceSum</span>()); <span class="cm-comment">// 21</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">timeEnd</span>(<span class="cm-string">"ruduce"</span>); <span class="cm-comment">// 0.417ms</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 314px;"></div><div class="CodeMirror-gutters" style="display: none; height: 344px;"></div></div></div></pre><p>&nbsp;</p><h5><a name='header-n982' class='md-header-anchor '></a>reduceRight()方法</h5><p><code>reduceRight()</code>方法的功能和<code>reduce()</code>功能是一样的，不同的是<code>reduceRight()</code>从数组的末尾向前将数组中的数组项做累加。</p><p><code>reduceRight()</code>首次调用回调函数<code>callbackfn</code>时，<code>prevValue</code> 和 <code>curValue</code> 可以是两个值之一。如果调用 <code>reduceRight()</code> 时提供了 <code>initialValue</code> 参数，则 <code>prevValue</code> 等于 <code>initialValue</code>，<code>curValue</code> 等于数组中的最后一个值。如果没有提供 <code>initialValue</code> 参数，则 <code>prevValue</code> 等于数组最后一个值， <code>curValue</code> 等于数组中倒数第二个值。</p><p>来看实例：</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">arr</span> <span class="cm-operator">=</span> [<span class="cm-number">0</span>,<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">3</span>,<span class="cm-number">4</span>];</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">arr</span>.<span class="cm-property">reduceRight</span>(<span class="cm-keyword">function</span> (<span class="cm-def">preValue</span>,<span class="cm-def">curValue</span>,<span class="cm-def">index</span>,<span class="cm-def">array</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">preValue</span> <span class="cm-operator">+</span> <span class="cm-variable-2">curValue</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}); <span class="cm-comment">// 10</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 134px;"></div><div class="CodeMirror-gutters" style="display: none; height: 164px;"></div></div></div></pre><p>回调将会被调用四次，每次调用的参数及返回值如下：</p><figure><table><thead><tr><th>&nbsp;</th><th>preValue</th><th>curValue</th><th>index</th><th>array</th><th>返回值</th></tr></thead><tbody><tr><td>第一次回调</td><td>4</td><td>3</td><td>3</td><td>[0,1,2,3,4]</td><td>7</td></tr><tr><td>第二次回调</td><td>7</td><td>2</td><td>2</td><td>[0,1,2,3,4]</td><td>9</td></tr><tr><td>第三次回调</td><td>9</td><td>1</td><td>1</td><td>[0,1,2,3,4]</td><td>10</td></tr><tr><td>第四次回调</td><td>10</td><td>0</td><td>0</td><td>[0,1,2,3,4]</td><td>10</td></tr></tbody></table></figure><p>如果提供一个初始值<code>initialValue</code>为<code>5</code>:</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">arr</span> <span class="cm-operator">=</span> [<span class="cm-number">0</span>,<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">3</span>,<span class="cm-number">4</span>];</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">arr</span>.<span class="cm-property">reduceRight</span>(<span class="cm-keyword">function</span> (<span class="cm-def">preValue</span>,<span class="cm-def">curValue</span>,<span class="cm-def">index</span>,<span class="cm-def">array</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">preValue</span> <span class="cm-operator">+</span> <span class="cm-variable-2">curValue</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}, <span class="cm-number">5</span>); <span class="cm-comment">// 15</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 134px;"></div><div class="CodeMirror-gutters" style="display: none; height: 164px;"></div></div></div></pre><p>回调将会被调用五次，每次调用的参数及返回的值如下：</p><figure><table><thead><tr><th>&nbsp;</th><th>preValue</th><th>curValue</th><th>index</th><th>array</th><th>返回值</th></tr></thead><tbody><tr><td>第一次回调</td><td>5</td><td>4</td><td>4</td><td>[0,1,2,3,4]</td><td>9</td></tr><tr><td>第二次回调</td><td>9</td><td>3</td><td>3</td><td>[0,1,2,3,4]</td><td>12</td></tr><tr><td>第三次回调</td><td>12</td><td>2</td><td>2</td><td>[0,1,2,3,4]</td><td>14</td></tr><tr><td>第四次回调</td><td>14</td><td>1</td><td>1</td><td>[0,1,2,3,4]</td><td>15</td></tr><tr><td>第五次回调</td><td>15</td><td>0</td><td>0</td><td>[0,1,2,3,4]</td><td>15</td></tr></tbody></table></figure><p>同样的，可以对一个数组求和，也可以使用<code>reduceRight()</code>方法:</p><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">arr</span> <span class="cm-operator">=</span> [<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">3</span>,<span class="cm-number">4</span>,<span class="cm-number">5</span>,<span class="cm-number">6</span>];</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">time</span>(<span class="cm-string">"ruduceRight"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Array</span>.<span class="cm-property">prototype</span>.<span class="cm-property">ruduceRightSum</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span> (){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable-2">i</span> <span class="cm-operator">&lt;</span> <span class="cm-number">10000</span>; <span class="cm-variable-2">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">reduceRight</span> (<span class="cm-keyword">function</span> (<span class="cm-def">preValue</span>, <span class="cm-def">curValue</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">preValue</span> <span class="cm-operator">+</span> <span class="cm-variable-2">curValue</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  });</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">arr</span>.<span class="cm-property">ruduceRightSum</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">'最终的值：'</span> <span class="cm-operator">+</span> <span class="cm-variable">arr</span>.<span class="cm-property">ruduceSum</span>()); <span class="cm-comment">// 21</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">timeEnd</span>(<span class="cm-string">"ruduceRight"</span>); <span class="cm-comment">// 5.725ms</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 314px;"></div><div class="CodeMirror-gutters" style="display: none; height: 344px;"></div></div></div></pre><p><strong>总结</strong></p><p><code>reduce()</code>和<code>reduceRight()</code>两个方法功能都是类似的，可以让数组调用一个回调函数<code>callbackfn</code>作为累加器。实际上根据这个回调函数，可以实现不同的功能，比如说，对数组项求合；将多个数组合并到一个数组等等。甚至配合数组其他的方法你还可以做更多功能的处理。如果感兴趣的话不仿尝试一二。</p><p>&nbsp;</p><h4><a name='header-n1085' class='md-header-anchor '></a>遍历数组</h4><ul><li><strong>Array.forEach( )</strong> ：遍历数组里的每个元素
.forEach()方法没有返回值，你不需要在回调函数里写return，你可以在回调函数里对每个元素进行操作。</li></ul><pre class="md-fences md-end-block" lang=""> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">var animals = ['dog', 'cat', 'mouse'];</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">animals.forEach( function (item,index,arr){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  console.log(item,index,arr,this);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">},false);</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 120px;"></div></div></div></pre><ul><li><p><strong>Array.map()</strong>
.map() 方法能够遍历整个数组，然后 返回一个新数组，这个新数组里的元素是经过了指定的回调函数处理过的。</p><blockquote><p><em>如果你想修改数组里的每个元素，然后将修改后的数组存入新的数组，那使用 .map() 方法最方便。</em></p></blockquote></li></ul><pre class="md-fences mock-cm md-end-block" lang="">var numbers = [2, 4, 6, 8];
var doubleNums = numbers.map( function (element) {
  return element * 2;
});
console.log('doubleNums: ', doubleNums)
</pre><ul><li><strong>Array.indexOf()</strong>
indexOf() 能够告诉你 某个元素在数组中的位置，它返回的是索引值，如果数组里有重复的元素，它会返回第一个元素的位置。</li></ul><pre class="md-fences mock-cm md-end-block" lang="">var a = [2, 9, 9, 18];
var i = a.indexOf(9);
console.log('i: ', i);  /*if (a.indexOf(7) === -1) { // 数组中没有这个元素}*/
</pre><ul><li><p><strong>Array.every()</strong>
.every() 方法的作用是用指定的回调函数去检查数组中的每个元素，如果对于每个元素，这个回调函数都返回true，则.every()返回true。否则，.every() 返回false。</p><blockquote><p><em>如果你想知道数组中的所有元素都是否符合某种条件，使用 .every() 最方便。</em></p></blockquote></li></ul><pre class="md-fences mock-cm md-end-block" lang="">var ages = [23, 19, 32, 44];
var olderThan18 = ages.every( function (element) {
  return element &gt; 18;
});
console.log('olderThan18: ', olderThan18);
</pre><p>&nbsp;</p><h4><a name='header-n1118' class='md-header-anchor '></a>判断是否为数组</h4><ul><li><strong>Array.isArray( )</strong>
判断接受的对象 是否为数组，返回一个布尔值
不兼容 IE9 及以下</li></ul><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><hr /><h2><a name='header-n1132' class='md-header-anchor '></a>15课</h2><p>封装函数：操作元素 class 的添加或删除</p><h4><a name='header-n1135' class='md-header-anchor '></a>addClass &amp; removeClass</h4><pre class="md-fences md-end-block" lang="javascript" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">addClass</span>(<span class="cm-def">ele</span>,<span class="cm-def">cName</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">arr</span> <span class="cm-operator">=</span> <span class="cm-variable-2">ele</span>.<span class="cm-property">className</span>.<span class="cm-property">split</span>(<span class="cm-string">' '</span>).<span class="cm-property">concat</span>(<span class="cm-variable-2">cName</span>.<span class="cm-property">split</span>(<span class="cm-string">" "</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span>(<span class="cm-keyword">var</span> <span class="cm-def">i</span><span class="cm-operator">=</span><span class="cm-number">0</span>;<span class="cm-variable-2">i</span><span class="cm-operator">&lt;</span><span class="cm-variable-2">arr</span>.<span class="cm-property">length</span>;<span class="cm-variable-2">i</span><span class="cm-operator">++</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span>(<span class="cm-keyword">var</span> <span class="cm-def">k</span><span class="cm-operator">=</span><span class="cm-variable-2">arr</span>.<span class="cm-property">length</span><span class="cm-operator">-</span><span class="cm-number">1</span>;<span class="cm-variable-2">k</span><span class="cm-operator">&gt;</span><span class="cm-variable-2">i</span>;<span class="cm-variable-2">k</span><span class="cm-operator">--</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  (<span class="cm-variable-2">arr</span>[<span class="cm-variable-2">k</span>]<span class="cm-operator">===</span><span class="cm-string">""</span>)<span class="cm-operator">&amp;&amp;</span><span class="cm-variable-2">arr</span>.<span class="cm-property">splice</span>(<span class="cm-variable-2">k</span>,<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  (<span class="cm-variable-2">arr</span>[<span class="cm-variable-2">i</span>]<span class="cm-operator">===</span><span class="cm-variable-2">arr</span>[<span class="cm-variable-2">k</span>])<span class="cm-operator">&amp;&amp;</span><span class="cm-variable-2">arr</span>.<span class="cm-property">splice</span>(<span class="cm-variable-2">k</span>,<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">ele</span>.<span class="cm-property">className</span> <span class="cm-operator">=</span> <span class="cm-variable-2">arr</span>.<span class="cm-property">join</span>(<span class="cm-string">" "</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">removeClass</span>(<span class="cm-def">ele</span>,<span class="cm-def">cName</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">arr1</span> <span class="cm-operator">=</span> <span class="cm-variable-2">ele</span>.<span class="cm-property">className</span>.<span class="cm-property">split</span>(<span class="cm-string">' '</span>);<span class="cm-comment">//on wrap fy on on on on</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">arr2</span> <span class="cm-operator">=</span> <span class="cm-variable-2">cName</span>.<span class="cm-property">split</span>(<span class="cm-string">" "</span>);<span class="cm-comment">// on wrap</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span>(<span class="cm-keyword">var</span> <span class="cm-def">i</span><span class="cm-operator">=</span><span class="cm-number">0</span>;<span class="cm-variable-2">i</span><span class="cm-operator">&lt;</span><span class="cm-variable-2">arr2</span>.<span class="cm-property">length</span>;<span class="cm-variable-2">i</span><span class="cm-operator">++</span>)<span class="cm-keyword">for</span>(<span class="cm-keyword">var</span> <span class="cm-def">j</span><span class="cm-operator">=</span><span class="cm-variable-2">arr1</span>.<span class="cm-property">length</span><span class="cm-operator">-</span><span class="cm-number">1</span>;<span class="cm-variable-2">j</span><span class="cm-operator">&gt;=</span><span class="cm-number">0</span>;<span class="cm-variable-2">j</span><span class="cm-operator">--</span>)(<span class="cm-variable-2">arr2</span>[<span class="cm-variable-2">i</span>]<span class="cm-operator">===</span><span class="cm-variable-2">arr1</span>[<span class="cm-variable-2">j</span>])<span class="cm-operator">&amp;&amp;</span><span class="cm-variable-2">arr1</span>.<span class="cm-property">splice</span>(<span class="cm-variable-2">j</span>,<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">ele</span>.<span class="cm-property">className</span> <span class="cm-operator">=</span> <span class="cm-variable-2">arr1</span>.<span class="cm-property">join</span>(<span class="cm-string">" "</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 426px;"></div><div class="CodeMirror-gutters" style="display: none; height: 456px;"></div></div></div></pre><h4><a name='header-n1137' class='md-header-anchor '></a>逻辑与代替if</h4><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-atom">true</span>){ <span class="cm-variable">alert</span>(<span class="cm-number">1</span>) } <span class="cm-comment">// 可简写成下面的语句</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">true</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable">alert</span>(<span class="cm-number">1</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 75px;"></div></div></div></pre><p>&nbsp;</p><hr /><h2><a name='header-n1142' class='md-header-anchor '></a>16课</h2><h4><a name='header-n1144' class='md-header-anchor '></a>冒泡排序</h4><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//a = [b,b=a][0];//交换值</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/*for(var i=0;i&lt;arr.length-1;i++){//确定趟数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp;  for(var j=arr.length-1;j &gt; i;j--){</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp; &nbsp; &nbsp;  if(arr[j]&lt;arr[j-1]){//后一个值跟前一个值比较，如果后一个值比前一个小，就交换位置</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  arr[j] = [arr[j-1],arr[j-1]=arr[j]][0]</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp; &nbsp; &nbsp;  }</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp;  }</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">}*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//简化</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span>(<span class="cm-keyword">var</span> <span class="cm-def">i</span><span class="cm-operator">=</span><span class="cm-number">0</span>;<span class="cm-variable">i</span><span class="cm-operator">&lt;</span><span class="cm-variable">arr</span>.<span class="cm-property">length</span><span class="cm-operator">-</span><span class="cm-number">1</span>;<span class="cm-variable">i</span><span class="cm-operator">++</span>)<span class="cm-keyword">for</span>(<span class="cm-keyword">var</span> <span class="cm-def">j</span><span class="cm-operator">=</span><span class="cm-variable">arr</span>.<span class="cm-property">length</span><span class="cm-operator">-</span><span class="cm-number">1</span>;<span class="cm-variable">j</span> <span class="cm-operator">&gt;</span> <span class="cm-variable">i</span>;<span class="cm-variable">j</span><span class="cm-operator">--</span>)(<span class="cm-variable">arr</span>[<span class="cm-variable">j</span>]<span class="cm-operator">&lt;</span><span class="cm-variable">arr</span>[<span class="cm-variable">j</span><span class="cm-operator">-</span><span class="cm-number">1</span>])<span class="cm-operator">&amp;&amp;</span>(<span class="cm-variable">arr</span>[<span class="cm-variable">j</span>] <span class="cm-operator">=</span> [<span class="cm-variable">arr</span>[<span class="cm-variable">j</span><span class="cm-operator">-</span><span class="cm-number">1</span>],<span class="cm-variable">arr</span>[<span class="cm-variable">j</span><span class="cm-operator">-</span><span class="cm-number">1</span>]<span class="cm-operator">=</span><span class="cm-variable">arr</span>[<span class="cm-variable">j</span>]][<span class="cm-number">0</span>])</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 291px;"></div><div class="CodeMirror-gutters" style="display: none; height: 321px;"></div></div></div></pre><h4><a name='header-n1147' class='md-header-anchor '></a>动态获取和静态获取</h4><p>动态和静态的区别：</p><ul><li>静态只会获取一次，而动态每次使用到这个变量，都会隐式的去再获取一次。</li></ul><p>静态的方法有：</p><ul><li>getElementById</li><li>querySelector</li><li>querySelectorAll</li></ul><p> 除了上面三个 其他都是动态。</p><h4><a name='header-n1169' class='md-header-anchor '></a>json对象</h4><ul><li>对象里的数据存放法方式：键值对</li><li>json格式，在其他语言里，对象的属性必须加双引号</li><li>取值： 对象.属性名</li><li><code>[]</code> 代替点操作时：括号里需要是字符串，除了数字直接作为属性名时，可以不用变为字符串</li><li>对象再弹窗是表现为[object Object]；</li><li>对象没有长度length。</li></ul><h4><a name='header-n1189' class='md-header-anchor '></a>删除json属性</h4><pre class="md-fences mock-cm md-end-block" lang="">json.key = null
delete json['key']
delete json.key
</pre><h4><a name='header-n1191' class='md-header-anchor '></a>for in</h4><ul><li>forin循环里定义的变量i，在遍历对象时，代表了每次循环时遍历到的那个属属性名，取值必须 对象[i]</li><li>在遍历数组时，代表数组的下标. 取值 ：数组[i]</li></ul><pre class="md-fences mock-cm md-end-block" lang="">for (var i in obj){}  ==&gt; i代表obj的每个属性名
</pre><p>&nbsp;</p><p>&nbsp;</p><hr /><h2><a name='header-n1206' class='md-header-anchor '></a>17课</h2><h4><a name='header-n1207' class='md-header-anchor '></a>call</h4><p>函数.<strong>call(obj, a, b)</strong>
call接收的参数个数不限制，看需求，但是第一个必须是this需要指向的对象，函数执行需要的参数写在后面就好</p><h4><a name='header-n1212' class='md-header-anchor '></a>apply</h4><p>函数.<strong>apply(obj, [a, b])</strong>
接收的参数只有俩个，第一个：需要改变this指向的对象；第二个必须是一个数组，数组里函数需要的参数</p><p>&nbsp;</p><h4><a name='header-n1218' class='md-header-anchor '></a>bind</h4><p>函数.<strong>bind(obj, a, b)</strong> <br/>
也是用来改变this指向，
传参跟call是一样的。
bind是在函数<strong>被执行时</strong>，才去改变this指向。</p><h4><a name='header-n1225' class='md-header-anchor '></a>call/apply/bind</h4><ul><li><code>call/apply</code> 都可以用来改变函数执行时的this指向, 会<strong>主动执行</strong>函数.</li><li><code>bind</code> 跟 <code>call/apply</code> 的区别：不会主动执行函数。</li><li><code>call</code> 和 <code>apply</code> 没有兼容问题，<code>bind</code> 不兼容IE678</li><li><del>当不得不适用 <code>call/apply/bind</code> 时，而又不希望改变指向，就传null。</del></li><li>改变this指向时，只对本次执行生效。</li><li>需要指向 <code>window</code> 时，可以传 <code>null</code> / <code>window</code>，如果不传实参，也是默认指向 <code>window</code></li><li>es5：类数组转为数组： <code>[].slice.apply(arguments)</code></li></ul><p>&nbsp;</p><h4><a name='header-n1250' class='md-header-anchor '></a>判断浏览器 IE678</h4><p>利用 IE 对数组长度解析与其他浏览器不同的特征</p><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//alert([1,2,].length)</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//alert(Number([1,]))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//alert(Boolean(NaN))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span>(<span class="cm-operator">!-</span>[<span class="cm-number">1</span>,]){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">alert</span>(<span class="cm-string">"这是IE678"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//  !-[1,]  // IE识别数组长度为2，减号转换成数字类型不成功为 NaN， !NaN = true 时为 IE678</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 202px;"></div><div class="CodeMirror-gutters" style="display: none; height: 232px;"></div></div></div></pre><h4><a name='header-n1254' class='md-header-anchor '></a>遍历json属性到数组</h4><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/*</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; 遍历对象的属性到数组。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* */</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">json</span> &nbsp;<span class="cm-operator">=</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">a</span> : <span class="cm-number">1</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">b</span> : <span class="cm-number">2</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">name</span> : <span class="cm-string">"FY"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">arr</span> <span class="cm-operator">=</span> [];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> ( <span class="cm-variable">arr</span>[<span class="cm-variable">arr</span>.<span class="cm-property">length</span>] <span class="cm-keyword">in</span> <span class="cm-variable">json</span>) <span class="cm-variable">arr</span>[<span class="cm-variable">arr</span>.<span class="cm-property">length</span>] <span class="cm-operator">=</span> <span class="cm-variable">key</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">arr</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 269px;"></div><div class="CodeMirror-gutters" style="display: none; height: 299px;"></div></div></div></pre><p>&nbsp;</p><hr /><h2><a name='header-n1259' class='md-header-anchor '></a>18课</h2><h4><a name='header-n1260' class='md-header-anchor '></a>setInterval( )</h4><blockquote><p>循环执行</p></blockquote><ul><li>[参数1]：函数 或 字符串</li><li>[参数2]：时间间隔，单位 ms(毫秒)</li></ul><h4><a name='header-n1272' class='md-header-anchor '></a>setTimeout( )</h4><blockquote><p>单次执行</p></blockquote><ul><li>[参数1]：函数</li><li>[参数2]：时间间隔，单位 ms(毫秒)</li></ul><h4><a name='header-n1283' class='md-header-anchor '></a>定时器</h4><ul><li>当函数有 alert( ) ,定时器会在点击确定之前暂时计时</li><li>浏览器最低的刷新频率 13~20</li><li><strong>事件队列</strong>，即时函数都为第一队列。定时器里的事件，属于下一次的事件队列，即使时间间隔为0，也是放在最后面执行</li></ul><h4><a name='header-n1294' class='md-header-anchor '></a>定时器的返回值</h4><p>定时器的返回值：是一些 number 类型的数字，代表定时器的序号。
通过序号也能清除定时器</p><h4><a name='header-n1299' class='md-header-anchor '></a>清除定时器</h4><ul><li>clearInterval( )</li><li>clearTimeout( )</li></ul><h4><a name='header-n1308' class='md-header-anchor '></a>H5动画方法</h4><p>timer = requestAnimationFrame(fn)  // 开启
始终与浏览器刷新频率保持一致
IE6789不兼容
cancelAnimationFrame(timer)  // 取消</p><p>setTimeout() 比 setInterval() 方法好</p><p>&nbsp;</p><p>&nbsp;</p><h4><a name='header-n1320' class='md-header-anchor '></a>console.time</h4><p>计算代码执行间隔的时间</p><pre class="md-fences mock-cm md-end-block" lang="">console.time('t')

(do something...)

console.timeEnd('t')
</pre><h4><a name='header-n1324' class='md-header-anchor '></a>window.open( )</h4><ul><li>window.open(url ) ： 默认新窗口打开网址</li><li>window.open(url ，&quot;_self&quot;) ： 本窗口打开</li></ul><hr /><h3><a name='header-n1333' class='md-header-anchor '></a>Math对象</h3><p>Math是一个对象。</p><h4><a name='header-n1337' class='md-header-anchor '></a>取整</h4><ul><li>Math.cile( )	: 向上取整</li><li>Math.floor( ): 向下取整</li><li>Math.round( ): 四舍五入</li></ul><h4><a name='header-n1348' class='md-header-anchor '></a>随机数</h4><ul><li>Math.random()	: 返回随机数 [0, 1)</li></ul><pre class="md-fences md-end-block" lang="javascript"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 随机6位16进制</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">(<span class="cm-operator">~~</span><span class="cm-variable">Math</span>.<span class="cm-property">floor</span>(<span class="cm-variable">Math</span>.<span class="cm-property">random</span>()<span class="cm-operator">*</span>(<span class="cm-number">1</span><span class="cm-operator">&lt;&lt;</span><span class="cm-number">24</span>))).<span class="cm-property">toString</span>(<span class="cm-number">16</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Math</span>.<span class="cm-property">random</span>().<span class="cm-property">toString</span>(<span class="cm-number">16</span>).<span class="cm-property">slice</span>(<span class="cm-number">2</span>,<span class="cm-number">8</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 67px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><h4><a name='header-n1355' class='md-header-anchor '></a>比较值</h4><ul><li>Math.max(a, b)	: 返回最大值</li><li>Math.min(a, b): 返回最小值</li></ul><h4><a name='header-n1363' class='md-header-anchor '></a>绝对值</h4><ul><li>Math.abs( )	: 返回绝对值</li></ul><h4><a name='header-n1368' class='md-header-anchor '></a>弧度</h4><ul><li>Math.sin( 30*Math.PI/180 )  正弦 ： 对边/斜边</li><li>Math.cos( 30*Math.PI/180 )  余弦 ： 邻边/斜边</li><li>30度 = 30/360 * 2π</li></ul><h4><a name='header-n1379' class='md-header-anchor '></a>平方</h4><pre class="md-fences mock-cm md-end-block" lang="">Math.pow(3,2)   // 平方
Math.sqrt(9)    // 开方
</pre><hr /><h2><a name='header-n1382' class='md-header-anchor '></a>19课</h2><h4><a name='header-n1383' class='md-header-anchor '></a>onmousedown</h4><p>鼠标按下</p><h4><a name='header-n1387' class='md-header-anchor '></a>onmouseup</h4><p>鼠标抬起</p><hr /><h3><a name='header-n1391' class='md-header-anchor '></a>Date对象</h3><p>时间戳
var date = new Date(); 获取的事件是本地(计算机)的时间</p><p>&nbsp;</p><figure><table><thead><tr><th>方法</th><th>解析</th><th>要点</th></tr></thead><tbody><tr><td>date.getTime()</td><td>当前的毫秒数</td><td>距离 1970/1/1 00 :00 :00 至今过了多少毫秒</td></tr><tr><td>date.getFullYear()</td><td>获取年份</td><td>&nbsp;</td></tr><tr><td>date.getMonth()</td><td>获取月份</td><td>从0开始到11，正确显示要 +1</td></tr><tr><td>date.getDate()</td><td>获取日期</td><td>&nbsp;</td></tr><tr><td>date.getHours()</td><td>获取小时</td><td>&nbsp;</td></tr><tr><td>date.getMinutes()</td><td>获取分钟</td><td>&nbsp;</td></tr><tr><td>date.getSeconds()</td><td>获取秒钟</td><td>&nbsp;</td></tr><tr><td>date.getTime()</td><td>毫秒数</td><td>&nbsp;</td></tr><tr><td>date.getDay()</td><td>获取星期</td><td>周日返回 0 ，周一返回 1</td></tr></tbody></table></figure><h4><a name='header-n1439' class='md-header-anchor '></a>设置日期时间</h4><blockquote><p>不带参数是获取时间，带参数是设置时间。需要注意一个参数时：带引号是设置年份      。如果一个参数时：参数的类型是number，那就是毫秒值，是距离 [1970/1/1 08:00 :00] 过了多少毫秒 </p></blockquote><p>JavaScript下，new Date([params]),参数传递有以下五种方式：</p><ol start='' ><li>new Date(&quot;month dd,yyyy hh:mm :ss&quot;); </li><li>new Date(&quot;month dd,yyyy&quot;); </li><li>new Date(yyyy,mth,dd,hh,mm,ss); 注意：这种方式下，必须传递整型；</li><li>new Date(yyyy,mth,dd); </li><li>new Date(ms); 注意：ms:是需要创建的时间和 GMT时间1970年1月1日之间相差的毫秒数；当前时间与GMT1970.1.1之间的毫秒数：var mills = new Date().getTime();</li></ol><h4><a name='header-n1461' class='md-header-anchor '></a>Date.parse() / Date.UTC()</h4><p>date.parse(&quot;mth dd yy&quot;) //参数必须是字符串
date.UTC(yy,mth,dd)  //不能是字符串</p><p>这两参数都接收一个参数，参数里是日期信息。返回该日期到1970/1/1 00:00 :00 的毫秒值</p><p><strong>月的差异</strong></p><ul><li>Date.parse(); 月[1-12]</li><li>Date.UTC();  月[0-11]</li></ul><p><strong>都可以传递参数</strong></p><pre class="md-fences mock-cm md-end-block" lang="">Date.parse("10,24,2016,21:00:00"));
Date.UTC(2016,9,24,21,00,00));
new Date(Date.parse("10,24,2016")));
new Date(Date.UTC(2016,9,24)));
//下面这两个UTC比parse快8小时 这里参数选择的是 -8
new Date(Date.parse("10,24,2016,00:00:00")));
new Date(Date.UTC(2016,9,24,-8,0,0)));
</pre><h4><a name='header-n1479' class='md-header-anchor '></a>获取毫秒值</h4><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">new</span> <span class="cm-variable">Date</span>().<span class="cm-property">getTime</span>()<span class="cm-operator">===</span><span class="cm-variable">Date</span>.<span class="cm-property">now</span>()</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre><ul><li>new Date().getTime()</li><li>Date.now()  不兼容IE678</li></ul><h4><a name='header-n1488' class='md-header-anchor '></a>时间格式化</h4><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">d</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Date</span>();</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// UTC时间</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">d</span>.<span class="cm-property">toDateString</span>(); <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">// 日期字符串，输出：Mon Nov 04 2013</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">d</span>.<span class="cm-property">toUTCString</span>(); <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span> &nbsp;<span class="cm-comment">// 转换为世界时间，输出：Mon, 04 Nov 2013 14:03:05 GMT</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">d</span>.<span class="cm-property">toGMTString</span>(); <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span> &nbsp;<span class="cm-comment">// 格林威治时间，输出：Mon, 04 Nov 2013 14:03:05 GMT</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">d</span>.<span class="cm-property">toISOString</span>(); <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span> &nbsp;<span class="cm-comment">// 国际标准组织（ISO）格式，输出：2013-11-04T14:03:05.420Z</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">d</span>.<span class="cm-property">toJSON</span>(); <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span> &nbsp; &nbsp;<span class="cm-comment">// UTC时间 输出：2013-11-04T14:03:05.420Z</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 本地时间</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">d</span>.<span class="cm-property">toLocaleDateString</span>(); <span class="cm-comment">// 转换为本地日期格式，视环境而定，输出：2013年11月4日</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">d</span>.<span class="cm-property">toLocaleString</span>(); <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">// 转换为本地日期和时间格式，视环境而定，输出：2013年11月4日 下午10:03:05</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">d</span>.<span class="cm-property">toLocaleTimeString</span>(); <span class="cm-comment">// 转换为本地时间格式，视环境而定，输出：下午10:03:05</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">d</span>.<span class="cm-property">toString</span>(); <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span> &nbsp;<span class="cm-comment">// 转换为字符串，输出：Mon Nov 04 2013 22:03:05 GMT+0800 (中国标准时间)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">d</span>.<span class="cm-property">toTimeString</span>(); <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">// 转换为时间字符串，输出：22:03:05 GMT+0800 (中国标准时间)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 常用转换</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">new</span> <span class="cm-variable">Date</span>().<span class="cm-property">toLocaleDateString</span>().<span class="cm-property">replace</span>(<span class="cm-string-2">/\//g</span>, <span class="cm-string">'-'</span>) &nbsp;<span class="cm-comment">//  -&gt;  "2018-2-24"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">new</span> <span class="cm-variable">Date</span>().<span class="cm-property">toLocaleDateString</span>().<span class="cm-property">match</span>(<span class="cm-string-2">/\d+/g</span>).<span class="cm-property">join</span>(<span class="cm-string">'-'</span>) &nbsp;<span class="cm-comment">//  -&gt;  "2018-2-24"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">new</span> <span class="cm-variable">Date</span>().<span class="cm-property">toString</span>().<span class="cm-property">split</span>(<span class="cm-string">' '</span>)[<span class="cm-number">4</span>] &nbsp; &nbsp;<span class="cm-comment">//  -&gt;  "19:45:56"</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 477px;"></div><div class="CodeMirror-gutters" style="display: none; height: 507px;"></div></div></div></pre><p>&nbsp;</p><h4><a name='header-n1492' class='md-header-anchor '></a>日期相差时间</h4><p>Date对象可以相减</p><h4><a name='header-n1496' class='md-header-anchor '></a>getTimezoneOffset</h4><p>回协调世界时（UTC）相对于当前时区的时间差值，单位为分钟。</p><pre class="md-fences mock-cm md-end-block" lang="">// 通过本地时间 获取UTC时间
var date = new Date();
var Udate = new Date(date.getTime() + date.getTimezoneOffset()*60*1000);
</pre><hr /><h2><a name='header-n1501' class='md-header-anchor '></a>20课</h2><h3><a name='header-n1502' class='md-header-anchor '></a>获取内部样式表的样式</h3><h4><a name='header-n1503' class='md-header-anchor '></a>window.getComputedStyle(obj)</h4><p>不兼容 IE8</p><pre class="md-fences mock-cm md-end-block" lang="">var box = document.getElementById('box');
window.getComputedStyle(box).width;  ==&gt; 100px
</pre><h4><a name='header-n1508' class='md-header-anchor '></a>obj.currentStyle</h4><p>只支持IE</p><pre class="md-fences mock-cm md-end-block" lang="">//IE8 下的方法，chrome不支持
box.currentStyle.width;  ==&gt; 100px
</pre><h4><a name='header-n1513' class='md-header-anchor '></a>兼容方法</h4><pre class="md-fences mock-cm md-end-block" lang="">function getStyle(obj){
    return obj.currentStyle || getComputedStyle(obj);
}
</pre><p>样式的颜色和路径不能作为判断条件</p><h3><a name='header-n1518' class='md-header-anchor '></a>H5动画方法</h3><h4><a name='header-n1519' class='md-header-anchor '></a>requestAnimationFrame(fn)</h4><p>设置动画帧
根据不同浏览器的刷新频率来决定刷新时间
不在当前浏览器标签页则停止，不再占用资源
不兼容 IE9 及以下，用 setTimeout</p><p><strong>兼容方法</strong></p><pre class="md-fences mock-cm md-end-block" lang="">window.requestAnimationFrame = window.requestAnimationFrame || function(fn){return setTimeout(fn,1000/60)};

</pre><h4><a name='header-n1528' class='md-header-anchor '></a>cancelAnimationFrame(fn)</h4><p>清除动画帧
同样不兼容 IE9</p><p><strong>兼容方法</strong></p><pre class="md-fences mock-cm md-end-block" lang="">window.cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;

</pre><h3><a name='header-n1535' class='md-header-anchor '></a>速度版运动框架</h3><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">animation</span>(<span class="cm-def">ele</span>, <span class="cm-def">style</span>, <span class="cm-def">target</span>, <span class="cm-def">speed</span>) { &nbsp; &nbsp; <span class="cm-comment">// 元素,样式,目标值,速度</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">start</span> <span class="cm-operator">=</span> <span class="cm-variable">parseFloat</span>(<span class="cm-variable">getStyle</span>(<span class="cm-variable-2">ele</span>)[<span class="cm-variable-2">style</span>]); &nbsp; <span class="cm-comment">// 获取内部样式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">flag</span> <span class="cm-operator">=</span> <span class="cm-variable-2">start</span><span class="cm-operator">&gt;</span><span class="cm-variable-2">target</span>; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 判断与目标值的关系</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable-2">flag</span>) <span class="cm-variable-2">speed</span> <span class="cm-operator">=</span> <span class="cm-operator">-</span><span class="cm-variable-2">speed</span>; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">// 大于目标值时 速度为负</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">fn</span>(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">// 执行动画</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">function</span> <span class="cm-def">fn</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">start</span> <span class="cm-operator">+=</span> <span class="cm-variable-2">speed</span>; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">// 速度</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable-2">flag</span><span class="cm-operator">?</span><span class="cm-variable-2">start</span><span class="cm-operator">&lt;=</span><span class="cm-variable-2">target</span>:<span class="cm-variable-2">start</span><span class="cm-operator">&gt;=</span><span class="cm-variable-2">target</span>) {<span class="cm-variable-2">start</span> <span class="cm-operator">=</span> <span class="cm-variable-2">target</span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span> {<span class="cm-variable">requestAnimationFrame</span>(<span class="cm-variable-2">fn</span>)} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 不到目标值时，回调</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">ele</span>.<span class="cm-property">style</span>[<span class="cm-variable-2">style</span>] <span class="cm-operator">=</span> <span class="cm-variable-2">start</span> <span class="cm-operator">+</span> <span class="cm-string">'px'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 269px;"></div><div class="CodeMirror-gutters" style="display: none; height: 299px;"></div></div></div></pre><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><hr /><h2><a name='header-n1546' class='md-header-anchor '></a>21课</h2><h3><a name='header-n1547' class='md-header-anchor '></a>时间版运动框架</h3><pre class="md-fences md-end-block" lang="javascript" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/**</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * 时间版动画框架</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * @param obj &nbsp; 元素</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * @param json  样式集合</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * @param time  动画时间</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * @param callback  回调函数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> */</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">animation</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>(<span class="cm-def">obj</span>, <span class="cm-def">json</span>, <span class="cm-def">time</span>, <span class="cm-def">callback</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">getStyle</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span> (<span class="cm-def">obj</span>) {<span class="cm-keyword">return</span> <span class="cm-variable-2">obj</span>.<span class="cm-property">currentStyle</span> <span class="cm-operator">||</span> <span class="cm-variable">getComputedStyle</span>(<span class="cm-variable-2">obj</span>)};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">window</span>.<span class="cm-property">requestAnimationFrame</span> <span class="cm-operator">=</span> <span class="cm-variable">window</span>.<span class="cm-property">requestAnimationFrame</span> <span class="cm-operator">||</span> <span class="cm-keyword">function</span> (<span class="cm-def">fn</span>) {<span class="cm-keyword">return</span> <span class="cm-variable">setTimeout</span>(<span class="cm-variable-2">fn</span>);};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">window</span>.<span class="cm-property">cancelAnimationFrame</span> <span class="cm-operator">=</span> <span class="cm-variable">window</span>.<span class="cm-property">cancelAnimationFrame</span> <span class="cm-operator">||</span> <span class="cm-variable">clearTimeout</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">initDate</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Date</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">initArr</span> <span class="cm-operator">=</span> {}, <span class="cm-def">distanceArr</span> <span class="cm-operator">=</span> {};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-def">key</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">json</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">initArr</span>[<span class="cm-variable-2">key</span>] <span class="cm-operator">=</span> <span class="cm-variable">parseFloat</span>(<span class="cm-variable-2">getStyle</span>(<span class="cm-variable-2">obj</span>)[<span class="cm-variable-2">key</span>]);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">distanceArr</span>[<span class="cm-variable-2">key</span>] <span class="cm-operator">=</span> <span class="cm-variable-2">json</span>[<span class="cm-variable-2">key</span>] <span class="cm-operator">-</span> <span class="cm-variable">parseFloat</span>(<span class="cm-variable-2">getStyle</span>(<span class="cm-variable-2">obj</span>)[<span class="cm-variable-2">key</span>]);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-operator">!</span><span class="cm-variable-2">distanceArr</span>[<span class="cm-variable-2">key</span>]) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">delete</span> <span class="cm-variable-2">initArr</span>[<span class="cm-variable-2">key</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">delete</span> <span class="cm-variable-2">distanceArr</span>[<span class="cm-variable-2">key</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">fn</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">function</span> <span class="cm-def">fn</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">ppt</span> <span class="cm-operator">=</span> (<span class="cm-keyword">new</span> <span class="cm-variable">Date</span>() <span class="cm-operator">-</span> <span class="cm-variable-2">initDate</span>)<span class="cm-operator">/</span><span class="cm-variable-2">time</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">ppt</span><span class="cm-operator">&gt;=</span><span class="cm-number">1</span><span class="cm-operator">?</span><span class="cm-variable-2">ppt</span><span class="cm-operator">=</span><span class="cm-number">1</span>:<span class="cm-variable">requestAnimationFrame</span>(<span class="cm-variable-2">fn</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-def">key</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">distanceArr</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable-2">key</span> <span class="cm-operator">===</span> <span class="cm-string">'opacity'</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">obj</span>.<span class="cm-property">style</span>.<span class="cm-property">opacity</span> <span class="cm-operator">=</span> <span class="cm-variable-2">ppt</span><span class="cm-operator">*</span><span class="cm-variable-2">distanceArr</span>.<span class="cm-property">opacity</span><span class="cm-operator">+</span><span class="cm-variable-2">initArr</span>.<span class="cm-property">opacity</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">obj</span>.<span class="cm-property">style</span>.<span class="cm-property">filter</span> <span class="cm-operator">=</span> <span class="cm-string">'alpha(opacity='</span><span class="cm-operator">+</span>(<span class="cm-variable-2">ppt</span><span class="cm-operator">*</span><span class="cm-variable-2">distanceArr</span>.<span class="cm-property">opacity</span><span class="cm-operator">+</span><span class="cm-variable-2">initArr</span>.<span class="cm-property">opacity</span>)<span class="cm-operator">*</span><span class="cm-number">100</span><span class="cm-operator">+</span><span class="cm-string">')'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">obj</span>.<span class="cm-property">style</span>[<span class="cm-variable-2">key</span>] <span class="cm-operator">=</span> <span class="cm-variable-2">ppt</span> <span class="cm-operator">*</span> <span class="cm-variable-2">distanceArr</span>[<span class="cm-variable-2">key</span>] <span class="cm-operator">+</span> <span class="cm-variable-2">initArr</span>[<span class="cm-variable-2">key</span>] <span class="cm-operator">+</span> <span class="cm-string">'px'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable-2">ppt</span> <span class="cm-operator">===</span> <span class="cm-number">1</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable-2">callback</span>) <span class="cm-variable-2">callback</span>.<span class="cm-property">call</span>(<span class="cm-variable-2">obj</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 874px;"></div><div class="CodeMirror-gutters" style="display: none; height: 904px;"></div></div></div></pre><p>&nbsp;</p><h1><a name='header-n1551' class='md-header-anchor '></a>DOM部分</h1><h2><a name='header-n1552' class='md-header-anchor '></a>22课</h2><h3><a name='header-n1553' class='md-header-anchor '></a>javascript的三大核心</h3><p>&nbsp;</p><ol start='' ><li><p><strong>ECMAScript</strong></p><p>ES是js的语法标准，js是ES的实现
js里最大的 BOSS 是 window对象。
document是window下的一个对象。</p></li></ol><ol start='2' ><li><p><strong>DOM</strong></p><p>document Object Model    文档对象模型提供的方法
js 只能通过 <strong>DOM方法</strong> 去操作 节点</p></li></ol><ol start='3' ><li><p><strong>BOM</strong></p><p>browser Objest Model    浏览器对象模型
提供方法让 JS 可以操作浏览器 </p></li></ol><p>&nbsp;</p><h3><a name='header-n1583' class='md-header-anchor '></a>DOM</h3><p>文档树</p><p>独有标签可以直接使用 ，html 除外</p><p>取html标签：document.documentElement</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><hr /><h2><a name='header-n1599' class='md-header-anchor '></a>23课</h2><h3><a name='header-n1600' class='md-header-anchor '></a>DOM 节点种类</h3><figure><table><thead><tr><th>DOM 节点种类</th><th>种类</th><th>nodeType值</th></tr></thead><tbody><tr><td><strong>元素节点</strong></td><td><strong>Node.ELEMENT_NODE(1)</strong></td><td><strong>1</strong></td></tr><tr><td><strong>属性节点</strong></td><td><strong>Node.ATTRIBUTE_NODE(2)</strong></td><td><strong>2</strong></td></tr><tr><td><strong>文本节点</strong></td><td><strong>Node.TEXT_NODE(3)</strong></td><td><strong>3</strong></td></tr><tr><td>CDATA节点</td><td>Node.CDATA_SECTION_NODE(4)</td><td>4</td></tr><tr><td>实体引用名称节点</td><td>Node.ENTRY_REFERENCE_NODE(5)</td><td>5</td></tr><tr><td>实体名称节点</td><td>Node.ENTITY_NODE(6)</td><td>6</td></tr><tr><td>处理指令节点</td><td>Node.PROCESSING_INSTRUCTION_NODE(7)</td><td>7</td></tr><tr><td><strong>注释节点</strong></td><td><strong>Node.COMMENT_NODE(8)</strong></td><td><strong>8</strong></td></tr><tr><td>文档节点</td><td>Node.DOCUMENT_NODE(9)</td><td>9</td></tr><tr><td>文档类型节点</td><td>Node.DOCUMENT_TYPE_NODE(10)</td><td>10</td></tr><tr><td>文档片段节点</td><td>Node.DOCUMENT_FRAGMENT_NODE(11)</td><td>11</td></tr><tr><td>DTD声明节点</td><td>Node.NOTATION_NODE(12)</td><td>12</td></tr></tbody></table></figure><p>&nbsp;</p><h3><a name='header-n1656' class='md-header-anchor '></a>DOM属性</h3><figure><table><thead><tr><th>DOM属性</th><th>获取</th><th>描述</th></tr></thead><tbody><tr><td><strong>nodeType</strong></td><td><strong>节点类型</strong></td><td><strong>1元素节点 2属性节点 3文本节点 8注释节点</strong></td></tr><tr><td>childNodes</td><td>所有子节点对象，包括文本节点</td><td>在不同浏览器下表现不一样<br>在IE8，只会返回元素节点</td></tr><tr><td><strong>children</strong></td><td>所有<strong>子元素节点</strong></td><td>类数组，<strong>动态方法</strong></td></tr><tr><td>fristChild</td><td>第一个子节点</td><td>&nbsp;</td></tr><tr><td>lastChild</td><td>最后一个子节点</td><td>&nbsp;</td></tr><tr><td>firstElementChild</td><td>第一个<strong>子元素节点</strong></td><td>不兼容IE8</td></tr><tr><td>lastElementChild</td><td>最后一个<strong>子元素节点</strong></td><td>不兼容IE8</td></tr><tr><td>nextSibling</td><td>下一个兄弟节点</td><td>在主流的浏览器下，可能会拿到除了元素节点以外的节点。在IE8，只会返回元素节点，如果没有则返回null</td></tr><tr><td>previousSibling</td><td>返回上一个兄弟节点</td><td>在主流的浏览器下，可能会拿到除了元素节点以外的节点。在IE8，只会返回元素节点，如果没有则返回null</td></tr><tr><td>nextElementSibling</td><td>下一个兄弟<strong>元素节点</strong></td><td>不兼容IE8</td></tr><tr><td>previousElementSibling</td><td>上一个兄弟<strong>元素节点</strong></td><td>不兼容IE8</td></tr><tr><td><strong>parentNode</strong></td><td><strong>返回父级节点</strong></td><td><strong>没有兼容性问题</strong></td></tr><tr><td><strong>offsetParent</strong></td><td><strong>返回第一个position定位的父级。如果都没有找到，最终返回body</strong></td><td><strong>没有兼容性问题</strong></td></tr><tr><td>ownerDocument</td><td>返回元素的根元素</td><td>HTML中, HTML 文档本身是元素的根元素。</td></tr><tr><td>nodeValue</td><td>获取第一个按钮元素的节点值</td><td>nodeValue等同于：.innerText  或.textContent</td></tr><tr><td>nodeName</td><td>返回标签的构造器</td><td>与tagName值相同</td></tr></tbody></table></figure><p>&nbsp;</p><hr /><h4><a name='header-n1729' class='md-header-anchor '></a>HTMLCollection 对象</h4><p>HTMLCollection 是一个接口，表示 HTML 元素的集合，它提供了可以遍历列表的方法和属性。</p><p>HTML DOM 中的 HTMLCollection 是“活”的；如果基本的文档改变时，那些改变通过所有 HTMLCollection 对象会立即显示出来。</p><p>&nbsp;</p><h3><a name='header-n1736' class='md-header-anchor '></a>DOM方法</h3><p>&nbsp;</p><figure><table><thead><tr><th>DOM方法</th><th>描述</th></tr></thead><tbody><tr><td>getElementById()</td><td>返回带有指定 ID 的元素。</td></tr><tr><td>getElementsByTagName()</td><td>返回包含带有指定标签名称的所有元素的节点列表（集合/节点数组）。</td></tr><tr><td>getElementsByClassName()</td><td>返回包含带有指定类名的所有元素的节点列表。</td></tr><tr><td><strong>appendChild()</strong></td><td>把新的子节点添加到指定节点。</td></tr><tr><td><strong>removeChild()</strong></td><td>删除子节点。但不能移除自己，只能通过父级来调用</td></tr><tr><td>replaceChild()</td><td>替换子节点。</td></tr><tr><td>hasChildNodes()</td><td>表明当前节点是否包含有子节点，返回一个布尔值</td></tr><tr><td><strong>insertBefore</strong>()</td><td>在指定的子节点前面插入新的子节点。</td></tr><tr><td>createAttribute()</td><td>创建属性节点。</td></tr><tr><td><strong>createElement()</strong></td><td>创建元素节点(构造器)<br />需要接收一个参数，参数就是需要新建的标签<br />只能使用一次<br />与obj.innerHTML的性能问题，后者性能好。但是要绑定事件用前者</td></tr><tr><td><strong>createTextNode</strong>()</td><td>创建文本节点。标签不会被解析</td></tr><tr><td><strong>createComment</strong>()</td><td>创建注释节点</td></tr><tr><td>getAttribute()</td><td>返回指定的属性值。</td></tr><tr><td>setAttribute()</td><td>把指定属性设置或修改为指定的值。</td></tr><tr><td>removeAttribute()</td><td>删除指定的属性</td></tr><tr><td>createDocumentFragment()</td><td>创建一个文档碎片，把要插入的新节点先附加在它上面，然后再一次性添加到document中</td></tr></tbody></table></figure><p>&nbsp;</p><h3><a name='header-n1793' class='md-header-anchor '></a>操作节点内容</h3><ul><li>obj.innerHTML    ：    操作标签内的内容，如有标签会被解析</li><li>obj.innerText    ：    标签不会被解析</li></ul><p>&nbsp;</p><p>&nbsp;</p><hr /><p>&nbsp;</p><h2><a name='header-n1808' class='md-header-anchor '></a>24课</h2><p>&nbsp;</p><h4><a name='header-n1811' class='md-header-anchor '></a>cloneNode()</h4><p>返回克隆的节点 <code>克隆母体.cloneNode()</code></p><p>接收一个参数，这个参数是一个布尔值，默认false：浅复制。true：深复制</p><p>浅复制：只复制标签</p><p>深复制：把跟这个标签对象相关的标签行内的内容(显性属性)一起复制</p><p>&nbsp;</p><h3><a name='header-n1822' class='md-header-anchor '></a>元素的宽高属性</h3><figure><table><thead><tr><th>获取宽/高</th><th>只读属性，返回 Number，内容超出时值不变</th></tr></thead><tbody><tr><td><strong>clientWidth</strong></td><td>读取元素的style宽 + padding，内容超出时值不变</td></tr><tr><td><strong>clientHeight</strong></td><td>读取元素的style高 + padding，内容超出时值不变</td></tr><tr><td><strong>clientTop</strong></td><td>返回对象border上边框的大小</td></tr><tr><td><strong>clientLeft</strong></td><td>返回对象border左边框的大小</td></tr><tr><td><strong>offsetWidth</strong></td><td>读取元素的style宽 + border + padding，内容超出时值不变</td></tr><tr><td><strong>offsetHeight</strong></td><td>读取元素的style高 + border + padding，内容超出时值不变</td></tr><tr><td><strong>scrollWidth</strong></td><td>读取元素的content宽 + padding，    当内容超出时 content+左padding，    当内容超出hidden时 content+左右padding</td></tr><tr><td><strong>scrollHeight</strong></td><td>读取元素的content高 + padding，    当内容超出时 content+上padding，    当内容超出hidden时 content+上下padding</td></tr><tr><td>getBoundingClientTect()</td><td>得到矩形元素的界线，返回的是一个对象，包含  top, left, right, bottom 四个属性值</td></tr><tr><td>element.scrollIntoView()</td><td>让元素滚动到可视区域（HTML5标准),参数  true  与浏览器对齐， false 元素在窗口居中显示</td></tr></tbody></table></figure><p>&nbsp;</p><h3><a name='header-n1860' class='md-header-anchor '></a>元素的定位距离</h3><ul><li><strong>offsetLeft</strong>    ：获取到 定位父级 的left距离</li><li><strong>offsetTop</strong>        ：获取到 定位父级 的top距离</li></ul><h3><a name='header-n1869' class='md-header-anchor '></a>文档相关的值</h3><p>读取body实际的宽高，不受滚动条影响，只读属性</p><ul><li><strong>document.body.clientWidth</strong>    ：文档body的宽度</li><li><strong>document.body.clientHeight</strong>    ：文档body的高度</li></ul><h3><a name='header-n1880' class='md-header-anchor '></a>可视区域的宽高</h3><ul><li><strong>document.documentElement.clientWidth</strong>    ：浏览器可视区域的宽度，不包括滚动条</li><li><strong>document.documentElement.clientWidth</strong>    ：浏览器可视区域的高度，不包括滚动条</li><li><strong>window.innerWidth</strong>        ：浏览器可视区域的宽度，包括滚动条，不兼容IE8</li><li><strong>window.innerHeight</strong>        ：浏览器可视区域的高度，包括滚动条，不兼容IE8</li></ul><h3><a name='header-n1895' class='md-header-anchor '></a>滚动距离</h3><p>有兼容性问题</p><ul><li><strong>document.body.scrollTop</strong>        ：谷歌 62.0.3版本之前的方法</li><li><strong>document.body.scrollLeft</strong>    ：谷歌 62.0.3版本之前的方法</li><li><strong>document.documentElement.scrollTop</strong>        :设置或获取位于对象最顶端和对象中可见内容的最顶端之间的距离</li><li><strong>document.documentElement.scrollLeft</strong>        :设置或获取位于对象左边界和对象中目前可见内容的最左端之间的距离</li></ul><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">document</span>.<span class="cm-property">body</span>.<span class="cm-property">scrollTop</span> <span class="cm-operator">||</span> <span class="cm-variable">document</span>.<span class="cm-property">documentElement</span>.<span class="cm-property">scrollTop</span>&nbsp;&nbsp;<span class="cm-comment">//兼容写法</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre><p>&nbsp;</p><h3><a name='header-n1915' class='md-header-anchor '></a>滚动事件</h3><p>window.onscroll = fn()</p><p>Element.onscroll = fn()</p><p>&nbsp;</p><p>&nbsp;</p><hr /><p>&nbsp;</p><h2><a name='header-n1927' class='md-header-anchor '></a>25课</h2><p>&nbsp;</p><h3><a name='header-n1930' class='md-header-anchor '></a>改变窗口时触发事件</h3><p>window.onresize = fn()</p><p>&nbsp;</p><h3><a name='header-n1935' class='md-header-anchor '></a>浏览器窗口大小</h3><h4><a name='header-n1936' class='md-header-anchor '></a>获取显示器当前分辨率的大小</h4><ul><li>window.screen.width</li><li>window.screen.height</li></ul><h4><a name='header-n1945' class='md-header-anchor '></a>获取显示器当前除了任务栏高度的区域的大小</h4><ul><li>window.screen.availWidth</li><li>window.screen.availHeight</li></ul><hr /><p>&nbsp;</p><h2><a name='header-n1956' class='md-header-anchor '></a>26课</h2><h3><a name='header-n1957' class='md-header-anchor '></a>BOM</h3><p>&nbsp;</p><h4><a name='header-n1960' class='md-header-anchor '></a>Window对象</h4><p>&nbsp;</p><ul><li><strong>window.history.back()</strong>：跳转前一条历史记录</li></ul><p>  <strong>window.history.forward()</strong>：跳转后一条历史记录</p><p>  <strong>window.history.go(n)</strong>：跳转基于当前页面的第n条历史记录。接受一个参数 Number。当前为0 ，前一条为 -1，后一条为 1</p><p>  <strong>window.history.length</strong>：保存历史记录的数量</p><p>&nbsp;</p><p><strong>window.open(url)</strong>：默认新窗口打开url</p><p>  <strong>window.open(url, &quot;_self&quot;)</strong>    ：当前窗口打开</p><p>  <strong>window.open(url, &quot;窗口名称&quot;, &quot;width=200,height=200&quot;)</strong>    ：宽高</p><p>&nbsp;</p><p><strong>window.close()</strong>：关闭当前标签页</p><p>&nbsp;</p><h4><a name='header-n1988' class='md-header-anchor '></a>url信息</h4><p><strong>window.location.href = url</strong>：重定向url，可后退</p><p>  <strong>window.location.host</strong>    ：主机名+端口号</p><p>  <strong>window.location.hostname</strong>    ：主机名</p><p>  <strong>window.location.port</strong>    ：端口号</p><p>  <strong>window.location.search</strong>    ：查询的信息  get的内容</p><p>  <strong>window.loaction.replace(&quot;url&quot;)</strong>    ：跳转到 url，不可后退</p><p>  <strong>window.loaction.reload()</strong>    ：重新加载当前显示的页面，若传参 true 则强制从服务器重新加载</p><p>&nbsp;</p><p>&nbsp;</p><p>window.navigator 浏览器信息</p><p>&nbsp;</p><p>&nbsp;</p><h4><a name='header-n2013' class='md-header-anchor '></a>window.event事件对象</h4><p>&nbsp;</p><ul><li><strong>e = e || window.event;</strong>：兼容</li></ul><ul><li><strong>event.pageX / event.pageY</strong>：在IE678不支持，拿到的是相对文档顶部（左边）的绝对距离（坐标），</li></ul><p>  兼容写法<code>document.documentElement.scrollTop + clientY</code></p><p>&nbsp;</p><ul><li><strong>event.clientX / event.clientY</strong>： 拿到的是可视屏幕区域鼠标到左顶点的距离（坐标）</li></ul><ul><li><strong>event.screenX / event.screenY</strong>： 相对于整个电脑屏幕的坐标位置 </li></ul><ul><li><strong>event.type</strong>：事件类型（click/mouseenter/keydown/scroll）</li></ul><ul><li><strong>e.keyCode</strong>：键盘键值</li></ul><p>&nbsp;</p><p>&nbsp;</p><hr /><p>&nbsp;</p><h2><a name='header-n2055' class='md-header-anchor '></a>27课</h2><p>&nbsp;</p><h3><a name='header-n2058' class='md-header-anchor '></a>原始数据类型 / 基础数据类型</h3><ul><li>number</li><li>string</li><li>boolean</li><li>undefined</li><li>null</li></ul><p>在比较时，原始数据类型只会比较值是不是长得一样。如果是则true</p><p>在赋值时，就是把这个值赋值给一个变量/对象。给完以后就没有其他什么事</p><p>&nbsp;</p><h3><a name='header-n2081' class='md-header-anchor '></a>引用数据类型</h3><ul><li>object</li><li>function</li><li>array</li></ul><p>在比较时，主要比较内存地址是否一致，只有一致才会返回true</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><h3><a name='header-n2100' class='md-header-anchor '></a>添加/移除 DOM事件监听</h3><ul><li><strong>addEventListener()</strong></li></ul><p>    添加事件绑定</p><p>    ele.addEventListener(事件类型, 事件函数, 布尔值)</p><p>    布尔值：默认false，不捕获（事件冒泡）。true，事件捕获</p><p>    不兼容IE8</p><p>&nbsp;</p><ul><li><strong>removeEventListener()</strong></li></ul><p>    移除事件绑定</p><p>    ele.removeEventListener(事件类型, 事件函数, 布尔值)</p><p>    不兼容IE8</p><p>&nbsp;</p><ul><li><strong>attachEvent()</strong></li></ul><p>    IE8的添加事件绑定</p><p>    attachEvent(on事件类型, 事件函数)</p><p>    后绑定先执行</p><p>    注意：此方法里的事件函数this指向window</p><p>&nbsp;</p><ul><li><strong>detachEvent()</strong></li></ul><p>    IE8的移除事件绑定</p><p>    detachEvent(on事件类型, 事件函数)</p><p>&nbsp;</p><p>&nbsp;</p><h3><a name='header-n2153' class='md-header-anchor '></a>事件捕获</h3><p>事件先从父级触发，依次到子级</p><p>IE8没有事件捕获</p><p>&nbsp;</p><p>&nbsp;</p><h3><a name='header-n2162' class='md-header-anchor '></a>事件冒泡</h3><p>事件先从子级触发，依次到父级</p><p>&nbsp;</p><h3><a name='header-n2167' class='md-header-anchor '></a>阻止冒泡</h3><p>event.stopPropagation()  //不兼容IE8，W3C标准</p><p>event.cancelBubble = true; //兼容IE8与最新chrome firefox</p><p>阻止冒泡要在事件源上进行阻止</p><p>&nbsp;</p><h3><a name='header-n2176' class='md-header-anchor '></a>阻止默认行为</h3><p>event.preventDefault()  //不兼容IE8</p><p>window.event.returnValue = false;  //IE8-10</p><p>return false;</p><p>&nbsp;</p><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/**</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * 兼容性查询</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> *</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * &nbsp; &nbsp;  事件绑定</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * &nbsp; &nbsp; &nbsp; &nbsp;  chrome/firefox/IE9-11 : document.addEventListener(type, handler)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> *</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * &nbsp; &nbsp; &nbsp; &nbsp;  IE8 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : document.attachEvent(type, handler(e))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> *</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> *</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * &nbsp; &nbsp;  事件移除</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * &nbsp; &nbsp; &nbsp; &nbsp;  chrome/firefox/IE9-11 : document.removeEventListener(type, handler)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> *</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * &nbsp; &nbsp; &nbsp; &nbsp;  IE8 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : document.detachEvent(type, handler(e))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> *</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> *</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * &nbsp; &nbsp;  阻止事件冒泡</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * &nbsp; &nbsp; &nbsp; &nbsp;  chrome/firefox/IE9-11 : event.stopPropagation()  ||  event.cancelBubble = true</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> *</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * &nbsp; &nbsp; &nbsp; &nbsp;  IE8 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : event.cancelBubble = true</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> *</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> *</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * &nbsp; &nbsp;  阻止事件默认行为</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * &nbsp; &nbsp; &nbsp; &nbsp; chrome/firefox/IE9-11  : event.preventDefault()</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> *</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * &nbsp; &nbsp; &nbsp; &nbsp; IE8  chrome &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  : event.returnValue = false</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> *</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * */</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 605px;"></div><div class="CodeMirror-gutters" style="display: none; height: 635px;"></div></div></div></pre><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><hr /><p><strong>document.onselectstart=function(){}</strong>：文字选中事件</p><p><strong>document.oncontextmenu=function(){}</strong>：鼠标右键事件</p><p><strong>document.onmousewheel=function(){}</strong>：鼠标滚轮事件</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><hr /><p>&nbsp;</p><h2><a name='header-n2211' class='md-header-anchor '></a>28课</h2><p>&nbsp;</p><h3><a name='header-n2214' class='md-header-anchor '></a>滚轮事件</h3><ul><li>onmousewheel : 支持除了火狐以外所有浏览器</li><li>DOMMouseScroll    ：只支持火狐</li></ul><h3><a name='header-n2223' class='md-header-anchor '></a>滚轮方向</h3><ul><li>e.wheelDelta  ：支持除了火狐以外所有浏览器</li><li>e.detail ：只支持火狐</li></ul><pre class="md-fences mock-cm md-end-block" lang="" style="break-inside: unset;">/**
&nbsp;* 兼容性查询
&nbsp;*
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chrome/IE9-11&nbsp;&nbsp;: addEventListener("mousewheel", fn)
&nbsp;*
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firefox&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: addEventListener("DOMMouseScroll", fn)
&nbsp;*
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IE8-10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: attachEvent("onmousewheel", fn)
&nbsp;*
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;------------------------------------------------------
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;up&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;down
&nbsp;*
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chrome/IE&nbsp;&nbsp;&nbsp;: e.wheelDelta&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;120&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-120
&nbsp;*
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firefox&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: e.detail&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3
&nbsp;*
&nbsp;* */

</pre><p>&nbsp;</p><hr /><p>&nbsp;</p><h2><a name='header-n2238' class='md-header-anchor '></a>29课</h2><p>&nbsp;</p><h3><a name='header-n2241' class='md-header-anchor '></a>事件委托/事件代理</h3><p>把事件运用 事件冒泡/捕获 让一个其他对象代为执行。</p><p>&nbsp;</p><h3><a name='header-n2246' class='md-header-anchor '></a>事件源</h3><p>event.target</p><p>不兼容IE8</p><p>IE8：event.srcElement</p><p>兼容写法：This = e.target || e.srcElement</p><p>&nbsp;</p><p>&nbsp;</p><hr /><p>&nbsp;</p><h2><a name='header-n2262' class='md-header-anchor '></a>30课</h2><p>&nbsp;</p><p>ondragstart=&quot;return false&quot; ：禁止拖动</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><h4><a name='header-n2273' class='md-header-anchor '></a>焦点</h4><p>有焦点的元素 input/select/textarea/button/a/document</p><p><strong>input.onfocus = func;</strong> ： 获得焦点</p><p><strong>input.onblur = func;</strong>  ： 失去焦点</p><p><strong>input.onchange = func;</strong> ：失去焦点 且 内容发生改变 才触发</p><p><strong>input.oninput = func;</strong>  ：内容发生改变 即 触发，H5方法（IE8不兼容）</p><p>&nbsp;</p><p><strong>input.focus()</strong> ： 通过js方法 获得焦点</p><p><strong>input.blur()</strong>  ： 通过js方法 失去焦点</p><p>&nbsp;</p><h4><a name='header-n2292' class='md-header-anchor '></a>键盘键值</h4><p><strong>ele.onkeydown</strong> ： 键按下，长按触发多次</p><p><strong>ele.onkeyup</strong>   ： 键抬起</p><p><strong>ele.onkeypress</strong> ： 只响应非功能键及<code>Enter</code>按下，不兼容IE8</p><p><strong>e.keyCode</strong> ： 键值</p><p><strong>e.charCode</strong>  ：按下键的字符的ASCII编码（keypress事件）不兼容IE8。【DOM3级不再有此值，而是 key、char(非字符为null)，有跨浏览器问题】</p><p>&nbsp;</p><h4><a name='header-n2305' class='md-header-anchor '></a>鼠标键值</h4><p><strong>e.which</strong> 获取 onkeydown / onmousedown 键值 鼠标左键 1 、中键 2 、右键 3 （不兼容IE8）</p><p><strong>e.button</strong> 左键 0 ，中键 1 ， 右键 2（不兼容IE8）</p><p>&nbsp;</p><h4><a name='header-n2312' class='md-header-anchor '></a>组合键</h4><p>e.altKey</p><p>e.ctrlKey</p><p>e.shiftKey</p><p>&nbsp;</p><h4><a name='header-n2321' class='md-header-anchor '></a>操作表格</h4><p>操作表格 | 描述</p><p>-|-</p><p><strong>insertRow(n)</strong>  |插入一行 tr</p><p><strong>insertCell(n)</strong> |插入一单元格 td</p><p><strong>deleteRow(n)</strong>  |删除一行 tr</p><p><strong>deleteCell(n)</strong> |删除一单元格 td</p><p><strong>rows</strong>   |保存行的 HTMLCollection</p><p><strong>cell</strong>   |保存<code>&lt;tr&gt;</code>中单元格的 HTMLCollection <code>tbody.rows[0].cell[0]</code></p><p>-|-</p><p>tBodies |是一个<code>&lt;tbody&gt;</code>元素的HTMLCollection</p><p>tHead / tFoot  |保存着对<code>&lt;thead&gt;</code>/<code>&lt;tfoot&gt;</code>元素的指针</p><p>createTHead / createTHead  |创建<code>&lt;thead&gt;</code>/<code>&lt;tfoot&gt;</code>元素，将其放到表格中，返回引用</p><p>deleteTHead / deleteTFoot  |删除<code>&lt;thead&gt;</code>/<code>&lt;tfoot&gt;</code>元素</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>HTMLCollection</strong> 是一个接口，表示 HTML 元素的集合，它提供了可以遍历列表的方法和属性；如果基本的文档改变时，那些改变通过所有 HTMLCollection 对象会立即显示出来。</p><p>&nbsp;</p><pre class="md-fences md-end-block" lang="javascript" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">table</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">getElementsByTagName</span>(<span class="cm-string">"table"</span>)[<span class="cm-number">0</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="cm-def">tbody</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">createElement</span>(<span class="cm-string">"tbody"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">table</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable">tbody</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">tbody</span>.<span class="cm-property">insertRow</span>(<span class="cm-number">0</span>);&nbsp;&nbsp;<span class="cm-comment">//在tbody插入第一行</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">tbody</span>.<span class="cm-property">rows</span>[<span class="cm-number">0</span>].<span class="cm-property">insertCell</span>(<span class="cm-number">0</span>);&nbsp;&nbsp;<span class="cm-comment">//在第一个 tr 新增第一个 td</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">tbody</span>.<span class="cm-property">rows</span>[<span class="cm-number">0</span>].<span class="cm-property">cells</span>[<span class="cm-number">0</span>].<span class="cm-property">appendChild</span>(<span class="cm-variable">document</span>.<span class="cm-property">createTextNode</span>(<span class="cm-string">"Cell 1,1"</span>));&nbsp;&nbsp;<span class="cm-comment">//第一行第一格新增文本节点</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">tbody</span>.<span class="cm-property">rows</span>[<span class="cm-number">0</span>].<span class="cm-property">insertCell</span>(<span class="cm-number">1</span>);&nbsp;&nbsp;<span class="cm-comment">//在第一个 tr 新增第二个 td</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">tbody</span>.<span class="cm-property">rows</span>[<span class="cm-number">0</span>].<span class="cm-property">cells</span>[<span class="cm-number">1</span>].<span class="cm-property">appendChild</span>(<span class="cm-variable">document</span>.<span class="cm-property">createTextNode</span>(<span class="cm-string">"Cell 1,2"</span>));&nbsp;&nbsp;<span class="cm-comment">//第一行第二格新增文本节点</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 426px;"></div><div class="CodeMirror-gutters" style="display: none; height: 456px;"></div></div></div></pre><p>...</p><p>【JS高级程序设计-P283】</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><hr /><p>&nbsp;</p><h2><a name='header-n2370' class='md-header-anchor '></a>31-32课</h2><h3><a name='header-n2371' class='md-header-anchor '></a>飞机大战</h3><ul><li>判断元素是否呈现在页面</li></ul><p>  判断是否有父级 ：ele.parentNode</p><p>&nbsp;</p><ul><li>移除元素时先移除该元素的事件&amp;&amp;定时器</li></ul><ul><li>判断元素的碰撞</li></ul><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="cm-comment">//检测碰撞</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="cm-keyword">function</span> <span class="cm-def">isCollide</span>(<span class="cm-def">obj1</span>, <span class="cm-def">obj2</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cm-keyword">var</span> <span class="cm-def">L1</span> <span class="cm-operator">=</span> <span class="cm-variable-2">obj1</span>.<span class="cm-property">offsetLeft</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cm-def">R1</span> <span class="cm-operator">=</span> <span class="cm-variable-2">L1</span> <span class="cm-operator">+</span> <span class="cm-variable-2">obj1</span>.<span class="cm-property">width</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cm-def">T1</span> <span class="cm-operator">=</span> <span class="cm-variable-2">obj1</span>.<span class="cm-property">offsetTop</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cm-def">B1</span> <span class="cm-operator">=</span> <span class="cm-variable-2">T1</span> <span class="cm-operator">+</span> <span class="cm-variable-2">obj1</span>.<span class="cm-property">height</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cm-keyword">var</span> <span class="cm-def">L2</span> <span class="cm-operator">=</span> <span class="cm-variable-2">obj2</span>.<span class="cm-property">offsetLeft</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cm-def">R2</span> <span class="cm-operator">=</span> <span class="cm-variable-2">L2</span> <span class="cm-operator">+</span> <span class="cm-variable-2">obj2</span>.<span class="cm-property">width</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cm-def">T2</span> <span class="cm-operator">=</span> <span class="cm-variable-2">obj2</span>.<span class="cm-property">offsetTop</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cm-def">B2</span> <span class="cm-operator">=</span> <span class="cm-variable-2">T2</span> <span class="cm-operator">+</span> <span class="cm-variable-2">obj2</span>.<span class="cm-property">height</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cm-keyword">return</span> <span class="cm-operator">!</span>(<span class="cm-variable-2">L1</span><span class="cm-operator">&gt;</span><span class="cm-variable-2">R2</span> <span class="cm-operator">||</span> <span class="cm-variable-2">R1</span><span class="cm-operator">&lt;</span><span class="cm-variable-2">L2</span> <span class="cm-operator">||</span> <span class="cm-variable-2">T1</span><span class="cm-operator">&gt;</span><span class="cm-variable-2">B2</span> <span class="cm-operator">||</span> <span class="cm-variable-2">B1</span><span class="cm-operator">&lt;</span><span class="cm-variable-2">T2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 269px;"></div><div class="CodeMirror-gutters" style="display: none; height: 299px;"></div></div></div></pre><p>&nbsp;</p><hr /><p>&nbsp;</p><h2><a name='header-n2395' class='md-header-anchor '></a>33课</h2><h3><a name='header-n2396' class='md-header-anchor '></a>正则表达式</h3><p>regular Expression</p><p><strong>new RegExp() 对象</strong></p><p>对象属性</p><ul><li>global：是否全文搜索，默认false。只读</li><li>ignore case：是否大小写敏感，默认是false。只读</li><li>multiline：多行搜索，默认值是false。只读</li><li>lastIndex：是当前表达式匹配内容的最后一个字符的下一个位置</li><li>source：正则表达式的文本内容</li></ul><p>&nbsp;</p><h4><a name='header-n2421' class='md-header-anchor '></a>写法</h4><p>var reg = //;  字面量</p><p>var reg = new RegExp();  实例化</p><p>&nbsp;</p><h4><a name='header-n2428' class='md-header-anchor '></a>方法</h4><ul><li><p><strong>reg.test(str)</strong>    ：reg匹配str，成功返回true，失败返回false</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 在全局匹配下受 reg.lastIndex 影响，结果会不一样</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// reg.lastIndex 属性可读可写</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 75px;"></div></div></div></pre><p>​</p></li><li><p><strong>reg.exec(str)</strong> </p><ul><li><p>使用正则表达式模式对字符串执行搜索，并将更新全局RegExp对象的属性以反映匹配结果</p></li><li><p>如果没有匹配的文本则返回null，否则返回一个结果数组</p></li><li><p><code>index</code> 声明匹配文本的第一个字符位置</p></li><li><p><code>input</code> 存放被检索的字符串 <code>string</code></p><ul><li><p>非全局调用</p><pre class="md-fences mock-cm md-end-block" lang="">- 调用非全局的RegExp对象的exec()时，返回数组
- 第一个元素是与正则表达式相匹配的文本
- 第二个元素是与RegExpObject的第一个子表达式相匹配的文本（如果有）
- 第三个元素是与RegExpObject的第一个子表达式相匹配的文本（如果有）
</pre></li><li><p>全局调用</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//找出相匹配的起始位置和结束位置</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">reg</span> <span class="cm-operator">=</span> <span class="cm-string-2">/(\w)(\d)/g</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">str</span> <span class="cm-operator">=</span> <span class="cm-string">"a1b2c3d4e5f6"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">ret</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span>( <span class="cm-variable">ret</span> <span class="cm-operator">=</span> <span class="cm-variable">reg</span>.<span class="cm-property">exec</span>(<span class="cm-variable">str</span>) ){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">ret</span>.<span class="cm-property">index</span>, <span class="cm-variable">reg</span>.<span class="cm-property">lastIndex</span>, <span class="cm-variable">ret</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//匹配的起始位置，结束位置，匹配结果数组[相匹配文本,子集1,子集2,...]</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 179px;"></div><div class="CodeMirror-gutters" style="display: none; height: 209px;"></div></div></div></pre></li></ul></li></ul><p>​</p></li></ul><ul><li><p><strong>str.match(reg)</strong>  ：返回一个数组，</p><ul><li>非全局
包含着匹配内容的类数组，如果匹配不成功返回null。
属性 index：返回匹配到的下标
属性 input：返回匹配的目标字符串</li><li>全局
在加了标识 g 的时候，只返回数组，没有属性。</li></ul></li></ul><ul><li><p><strong>str.replace(reg, 替换文本)</strong>    ：返回 新的字符串，把匹配成功的部分替换</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">str</span>.<span class="cm-property">replace</span>(<span class="cm-variable">reg</span>, <span class="cm-string">"替换文本"</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">str</span>.<span class="cm-property">replace</span>(<span class="cm-variable">reg</span>, <span class="cm-keyword">function</span>(<span class="cm-def">i</span>,<span class="cm-def">j</span>,<span class="cm-def">k</span>){})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">str</span>.<span class="cm-property">replace</span>(<span class="cm-variable">reg</span>, <span class="cm-string">"$1 $2"</span>) &nbsp;<span class="cm-comment">//$1 $2 $3 ：代表子集1 2 3</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-comment">*<span class="cm-tab" role="presentation" cm-text="	"> </span>function有四个参数，</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-comment">*<span class="cm-tab" role="presentation" cm-text="	"> </span>1、要匹配的字符串&nbsp;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-comment">*<span class="cm-tab" role="presentation" cm-text="	"> </span>2、正则表达式分组内容，没有分组则没有该参数&nbsp;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-comment">*<span class="cm-tab" role="presentation" cm-text="	"> </span>3、匹配项在字符串中的index&nbsp;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-comment">*<span class="cm-tab" role="presentation" cm-text="	"> </span>4、原字符串</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">*/</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 228px;"></div><div class="CodeMirror-gutters" style="display: none; height: 258px;"></div></div></div></pre></li></ul><ul><li><strong>str.search(reg)</strong>    ：返回正则第一次出现的位置，匹配失败返回-1（indexOf）</li></ul><ul><li><strong>str.split(reg)</strong>    ：切割字符串，返回数组</li></ul><p>&nbsp;</p><h4><a name='header-n2497' class='md-header-anchor '></a>标识符</h4><p>g ：全局匹配  global</p><p>i ：不区分大小写  ignore case</p><p>m ：换行匹配      multiline</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">reg</span> <span class="cm-operator">=</span> <span class="cm-string-2">/abc/gim</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">reg</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">RegExp</span>(<span class="cm-string">"abc"</span>, <span class="cm-string">"gim"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 75px;"></div></div></div></pre><p>&nbsp;</p><h4><a name='header-n2507' class='md-header-anchor '></a>元字符 \</h4><blockquote><p>当我们在匹配有特殊意义的字符时候，需要加 \ 符号转义</p><p>\d ：数字</p><p>\D ：非数字</p><p>\w ：字符（数字，字母，下划线）</p><p>\W ：非字符</p><p>\s ：空格、tab</p><p>\S ：非空格</p><p>\b ：独立部分 单词边界，起始、结束、连词符（除了\w）、空格 <code>/\bwrod\b/</code>。只针对于字母和数字</p><p>\B ：非独立部分 非单词边界</p><p>&nbsp;</p><p>\n ：换行</p><p>\r ：换行</p><p>\t ：tab符</p><p>&nbsp;</p><p>.    ：正则里代表除了 \n  \r  的任意字符</p><p>^    ：在字符集之外，代表起始位置</p><p>$    ：代表结束位置</p></blockquote><p>&nbsp;</p><p>&nbsp;</p><h4><a name='header-n2547' class='md-header-anchor '></a>量词 {}</h4><blockquote><p>/a{5}/    ：匹配5个连续的a</p><p>/a{1,5}/ ：范围 1 &lt;= n &lt;= 5</p><p>/a{2,}/  :范围 2 &lt;= n &lt;= 无限</p><p>&nbsp;</p><p>特殊的量词，可以用特定的符号表示</p><p>{0,1} ： ?</p><p>{1,} 	 ： +</p><p>{0,} 	 ： *</p><p>&nbsp;</p><p>贪婪匹配  ：以最多次匹配</p><p>惰性    ：给任意量词后加 ? 变成惰性匹配，尽量往少的匹配  <code>/a+?/</code> <code>/a{2,}?/</code></p></blockquote><p>&nbsp;</p><p>&nbsp;</p><h4><a name='header-n2575' class='md-header-anchor '></a>子集 ()</h4><blockquote><p>圆括号里的字符代表一个整体</p><p>var reg = /ab(12)/;  匹配 ab12，12</p><p>/(ab)+/  匹配括号里的整体，且出现次数大于1</p><p>/(\w)\1+/g	必须搭配子集  \1 代表子集1  （重复匹配子集1的内容）</p><p>&nbsp;</p><p>$1 $2 $3 ：代表子集1 2 3</p><p>/(?:a)(b)/ ： <code>?:</code>代表不捕获，$1就代表了<code>(b)</code></p><p>&nbsp;</p><p>/exp(?=assert)/  ：正向前瞻，括号里代表断言</p><p>/exo(?!assert)/  ：负向前瞻，括号里代表断言</p></blockquote><p>&nbsp;</p><h4><a name='header-n2599' class='md-header-anchor '></a>字符集 []</h4><blockquote><p>方括号里的所有字符都是或者关系</p><p>/[2-8]/  ：一段范围的内容 2~8,。 [0-9]、 [a-z]、 [A-Z]、 [\u4e00-\u9fa5]汉字集</p><p>/[ab]/  ：匹配 a 或 b</p><p>/[ab]c/  ：局部匹配 ac 或 bc。等同于 /(a|b)c/</p><p>/[^ab]/  ：取反，匹配除了 a 或 b 以外的，^要出现在字符集开头才有意义</p><p>/a|b/     ：|	或者</p></blockquote><p>&nbsp;</p><h3><a name='header-n2615' class='md-header-anchor '></a>取小数的四舍五入</h3><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/*</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; Number.toFixed(int)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; &nbsp; &nbsp; 保留int位小数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; &nbsp; &nbsp; 但此方法不是使用四舍五入，而是银行家的规则，四舍六入</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; &nbsp; &nbsp; 例如： 1.555.toFixed(2)  ==&gt;  输出 1.55 而不是1.56</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; 需要标准四舍五入保留n位小数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; &nbsp; &nbsp; function fn(num, int){</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return Math.round(num*Math.pow(10, int))*Math.pow(10, -int);</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; &nbsp; &nbsp; }</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; &nbsp; &nbsp; &nbsp;  console.log( fn(1.555, 2) );  // 1.56</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; &nbsp; &nbsp; [ pow() 方法可返回 x 的 y 次幂的值。]</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 覆盖默认 toFixed方法</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Number</span>.<span class="cm-property">prototype</span>.<span class="cm-property">toFixed</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span> (<span class="cm-def">n</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-keyword">this</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">pow</span>(<span class="cm-number">10</span>, <span class="cm-variable-2">n</span>))<span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">pow</span>(<span class="cm-number">10</span>, <span class="cm-operator">-</span><span class="cm-variable-2">n</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-number">1.555</span>.<span class="cm-property">toFixed</span>(<span class="cm-number">2</span>) ); &nbsp;<span class="cm-comment">// 1.56</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 493px;"></div><div class="CodeMirror-gutters" style="display: none; height: 523px;"></div></div></div></pre><p>&nbsp;</p><hr /><h2><a name='header-n2620' class='md-header-anchor '></a>36课</h2><h3><a name='header-n2621' class='md-header-anchor '></a>Cookie</h3><p>存储数据大小上限是 4kb</p><p>&nbsp;</p><p><strong>设置cookie</strong></p><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1.</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">存储cookie</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">document</span>.<span class="cm-property">cookie</span> <span class="cm-operator">=</span> <span class="cm-string">'数据名=值'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">一次只能存储一个，并且默认是临时存储，当关闭浏览器之后就被清除了。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2.</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">改变存储时间</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">date</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Date</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Date</span>().<span class="cm-property">getTime</span>() <span class="cm-operator">+</span> <span class="cm-variable">n</span><span class="cm-operator">*</span><span class="cm-number">24</span><span class="cm-operator">*</span><span class="cm-number">60</span><span class="cm-operator">*</span><span class="cm-number">60</span><span class="cm-operator">*</span><span class="cm-number">1000</span>).<span class="cm-property">toUTCString</span>(); <span class="cm-comment">//n天数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">document</span>.<span class="cm-property">cookie</span> <span class="cm-operator">=</span> <span class="cm-string">'数据名=值; expires=过期时间'</span> <span class="cm-operator">+</span> <span class="cm-variable">date</span>; &nbsp;<span class="cm-comment">//expires=时间戳</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3.</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">获取cookie</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">当当前网页有cookie时，可以直接通过document</span>.<span class="cm-property">cookie</span> <span class="cm-variable">来找出所有cookie</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">consol</span>.<span class="cm-property">log</span>( <span class="cm-variable">document</span>.<span class="cm-property">cookie</span> );</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4.</span> &nbsp;<span class="cm-variable">获取coolie值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">document</span>.<span class="cm-property">cookie</span>.<span class="cm-property">match</span>(<span class="cm-string-2">/\bid=([^;]+)(;|$)/</span>)[<span class="cm-number">1</span>] &nbsp;<span class="cm-comment">//id属性</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 316px;"></div><div class="CodeMirror-gutters" style="display: none; height: 346px;"></div></div></div></pre><p>&nbsp;</p><p><strong>封装cookie</strong></p><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/**</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * 获取cookie</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * @param key 属性</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * @returns {string}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> */</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">getCookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span> (<span class="cm-def">key</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">val</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">cookie</span>.<span class="cm-property">match</span>(<span class="cm-keyword">new</span> <span class="cm-variable">RegExp</span>(<span class="cm-string">"/\\b"</span><span class="cm-operator">+</span><span class="cm-variable-2">key</span><span class="cm-operator">+</span><span class="cm-string">"=([^;]+)(;|$)/"</span>))[<span class="cm-number">1</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">val</span><span class="cm-operator">?</span><span class="cm-variable-2">val</span>[<span class="cm-number">1</span>]:<span class="cm-string">""</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">},</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * 设置cookie</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * @param json 键值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * @param time 过期时间,天数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> */</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">setCookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span> (<span class="cm-def">json</span>, <span class="cm-def">time</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">date</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Date</span>(<span class="cm-variable">Date</span>.<span class="cm-property">now</span>() <span class="cm-operator">+</span> <span class="cm-variable-2">time</span><span class="cm-operator">*</span><span class="cm-number">24</span><span class="cm-operator">*</span><span class="cm-number">60</span><span class="cm-operator">*</span><span class="cm-number">60</span><span class="cm-operator">*</span><span class="cm-number">1000</span>).<span class="cm-property">toUTCString</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-def">key</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">json</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">document</span>.<span class="cm-property">cookie</span> <span class="cm-operator">=</span> <span class="cm-variable-2">key</span><span class="cm-operator">+</span><span class="cm-string">"="</span><span class="cm-operator">+</span><span class="cm-variable-2">json</span>[<span class="cm-variable-2">key</span>]<span class="cm-operator">+</span><span class="cm-string">";expires="</span><span class="cm-operator">+</span><span class="cm-variable-2">date</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">},</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * 删除cookie</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> * @param key 属性</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> */</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">removeCookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span> (<span class="cm-def">key</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">json</span> <span class="cm-operator">=</span> {};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">json</span>[<span class="cm-variable-2">key</span>]<span class="cm-operator">=</span><span class="cm-string">""</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">setCookie</span>(<span class="cm-variable-2">json</span>, <span class="cm-operator">-</span><span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">setCookie</span>({<span class="cm-property">suyoulun</span>:<span class="cm-string">"boy"</span>},<span class="cm-number">7</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">removeCookie</span>(<span class="cm-string">"suyoulun"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">getCookie</span>(<span class="cm-string">"suyoulun"</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 739px;"></div><div class="CodeMirror-gutters" style="display: none; height: 769px;"></div></div></div></pre><p>&nbsp;</p><p>&nbsp;</p><hr /><h2><a name='header-n2639' class='md-header-anchor '></a>37课</h2><h3><a name='header-n2640' class='md-header-anchor '></a>AJAX</h3><p>全称：Asynchronous Javascript And XML</p><p><strong>AJAX流程</strong></p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ajax的使用极其简单，只有4步：</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1.</span><span class="cm-variable">创建ajax对象</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">xhr</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">XMLHttpRequest</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2.</span><span class="cm-variable">建立请求</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">xhr</span>.<span class="cm-property">open</span>(<span class="cm-variable">type</span>,<span class="cm-variable">url</span>,<span class="cm-variable">boolean</span>)<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//type请求方式（Get or post） url(后台接口) bool(是否异步 true是异步，false则同步)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3.</span><span class="cm-variable">发送请求</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">xhr</span>.<span class="cm-property">send</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4.</span><span class="cm-variable">监听状态码</span> &nbsp; &nbsp;<span class="cm-variable">xhr</span>.<span class="cm-property">onreadystatechange</span><span class="cm-operator">=</span><span class="cm-keyword">function</span>(){}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5.</span><span class="cm-variable">响应内容</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">xhr</span>.<span class="cm-property">responseText</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//结束</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 182px;"></div><div class="CodeMirror-gutters" style="display: none; height: 212px;"></div></div></div></pre><p>&nbsp;</p><p><strong>创建XHR对象</strong></p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//创建XHR对象</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">xhr</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">XMLHttpRequest</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">url</span> <span class="cm-operator">=</span> <span class="cm-string">"http://www.baidu.com"</span>; </span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 67px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><p>&nbsp;</p><p><strong>GET</strong></p><blockquote><p>GET方式不需要设置请求头，数据是跟在URL?后面，send不需要数据</p></blockquote><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">xhr</span>.<span class="cm-property">open</span>(<span class="cm-string">"GET"</span>, <span class="cm-variable">url</span> <span class="cm-operator">+</span> <span class="cm-string">"?name=name&amp;age=age"</span>, <span class="cm-atom">true</span>); &nbsp;<span class="cm-comment">//true异步  false同步</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">xhr</span>.<span class="cm-property">send</span>();</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 75px;"></div></div></div></pre><p>&nbsp;</p><p><strong>POST</strong></p><blockquote><p>post需要设置请求头（数据格式），发送的数据需要放到send里</p></blockquote><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">xhr</span>.<span class="cm-property">open</span>(<span class="cm-string">"post"</span> , <span class="cm-variable">url</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//设置请求头</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">xhr</span>.<span class="cm-property">setRequestHeader</span>(<span class="cm-string">"Content-Type"</span>,<span class="cm-string">"application/x-www-form-urlencoded"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">xhr</span>.<span class="cm-property">send</span>(<span class="cm-variable">data</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 120px;"></div></div></div></pre><p><strong>post请求头的几种常用数据格式</strong></p><p>1.<code>application/x-www-form-urlencoded</code></p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-error">#浏览器的原生 form 表单，如果不设置 enctype属性，那么最终就会默认以 application/x-www-form-urlencoded 方式提交数据。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">在POST提交数据中Content</span><span class="cm-operator">-</span><span class="cm-variable">Type</span> <span class="cm-variable">被指定为</span> <span class="cm-variable">application</span><span class="cm-operator">/</span><span class="cm-variable">x</span><span class="cm-operator">-</span><span class="cm-variable">www</span><span class="cm-operator">-</span><span class="cm-variable">form</span><span class="cm-operator">-</span><span class="cm-variable">urlencoded；提交的数据按照</span> <span class="cm-variable">key1</span><span class="cm-operator">=</span><span class="cm-variable">val1</span><span class="cm-operator">&amp;</span><span class="cm-variable">key2</span><span class="cm-operator">=</span><span class="cm-variable">val2</span> <span class="cm-variable">的方式进行编码，key</span> <span class="cm-variable">和</span> <span class="cm-variable">val</span> <span class="cm-variable">都进行了</span> <span class="cm-variable">URL</span> <span class="cm-variable">转码。大部分服务端语言都对这种方式有很好的支持。很多时候，我们用</span> <span class="cm-variable">Ajax</span> <span class="cm-variable">提交数据时，也是使用这种方式。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 134px;"></div><div class="CodeMirror-gutters" style="display: none; height: 164px;"></div></div></div></pre><p>2.<code>multipart/form-data</code></p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-error">#这也是一个常见的 POST 数据提交的方式。我们使用表单上传文件时，必须让 form 的 enctype 等于这个值。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">这种方式一般用来上传文件，各大服务端语言对它也有着良好的支持。上面提到的这两种</span> <span class="cm-variable">POST</span> <span class="cm-variable">数据的方式，都是浏览器原生支持的。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 67px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><p>3.<code>application/json</code></p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-error">#用来告诉服务端消息主体是序列化后的 JSON 字符串。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">由于</span> <span class="cm-variable">JSON</span> <span class="cm-variable">规范的流行，除了低版本</span> <span class="cm-variable">IE</span> <span class="cm-variable">之外的各大浏览器都原生支持</span> <span class="cm-variable">JSON</span>.<span class="cm-property">stringify，服务端语言也都有处理</span> <span class="cm-variable">JSON</span> <span class="cm-variable">的函数，使用</span> <span class="cm-variable">JSON</span> <span class="cm-variable">不会遇上什么麻烦。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 67px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><p>4.<code>text/xml</code></p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-error">#它是一种使用 HTTP 作为传输协议，XML 作为编码方式的远程调用规范</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">它的使用也很广泛，能很好的支持已有的</span> <span class="cm-variable">XML</span><span class="cm-operator">-</span><span class="cm-variable">RPC</span> <span class="cm-variable">服务。不过，XML</span> <span class="cm-variable">结构还是过于臃肿，一般场景用</span> <span class="cm-variable">JSON</span> <span class="cm-variable">会更灵活方便。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 67px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><p>&nbsp;</p><p><strong>请求状态码</strong></p><blockquote><p>xhr.readyState</p></blockquote><p>0  请求未初始化，open还没有调用
1  请求正在发送，服务器连接已建立，open已
2  请求已接收，也就是接收到头信息了send
3  请求处理中，也就是接收到响应主体了
4  请求已完成，且响应已就绪，也就是响应完成了</p><p>&nbsp;</p><p><strong>HTTP状态码</strong></p><blockquote><p>xhr.status</p></blockquote><p>1xx	 信息类，表示收到Web浏览器请求，正在进一步的处理中
2xx	 成功，表示用户请求被正确接收，理解和处理 如：200 OK
3xx	 重定向，表示请求没有成功，客户必须采取进一步的动作
4xx	 客户端错误，表示客户端提交的请求有错误，如：404 NOT Found，表示请求中所引用的文档不存在
5xx	 服务器错误，表示服务器不能完成请求的处理</p><p>&nbsp;</p><p><strong>响应的数据</strong></p><blockquote><p>xhr.responseText	（文本）</p><p>xhr.responseXML （XML文档）</p></blockquote><p>&nbsp;</p><p><strong>转换json格式</strong></p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">json</span> <span class="cm-operator">=</span> <span class="cm-variable">eval</span>(<span class="cm-variable">data</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">json</span> <span class="cm-operator">=</span> <span class="cm-variable">JSON</span>.<span class="cm-property">parse</span>(<span class="cm-variable">data</span>); &nbsp;<span class="cm-comment">//字符串转换成json格式，必须用双引号</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">str</span> <span class="cm-operator">=</span> <span class="cm-variable">JSON</span>.<span class="cm-property">stringify</span>(<span class="cm-variable">json</span>); &nbsp;<span class="cm-comment">//json格式转换成字符串，不兼容IE7，可引入 [json2.js] 文件解决</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 67px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><p>&nbsp;</p><h4><a name='header-n2723' class='md-header-anchor '></a>AJAX封装</h4><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">ajax</span>(<span class="cm-def">json</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">xhr</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">XMLHttpRequest</span>(),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-def">type</span> <span class="cm-operator">=</span> <span class="cm-variable-2">json</span>.<span class="cm-property">type</span><span class="cm-operator">||</span><span class="cm-string">"GET"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-def">url</span> <span class="cm-operator">=</span> <span class="cm-variable-2">json</span>.<span class="cm-property">url</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">async</span> <span class="cm-operator">=</span> <span class="cm-variable-2">json</span>.<span class="cm-property">async</span><span class="cm-operator">!==</span><span class="cm-atom">false</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">data</span> <span class="cm-operator">=</span> <span class="cm-variable-2">json</span>.<span class="cm-property">data</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">success</span> <span class="cm-operator">=</span> <span class="cm-variable-2">json</span>.<span class="cm-property">success</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">error</span> <span class="cm-operator">=</span> <span class="cm-variable-2">json</span>.<span class="cm-property">error</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">data</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">data</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span> () {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">str</span> <span class="cm-operator">=</span> <span class="cm-string">""</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-def">key</span> <span class="cm-keyword">in</span> <span class="cm-variable">data</span>) {<span class="cm-variable-2">str</span> <span class="cm-operator">+=</span> <span class="cm-variable-2">key</span> <span class="cm-operator">+</span> <span class="cm-string">"="</span> <span class="cm-operator">+</span> <span class="cm-variable">data</span>[<span class="cm-variable-2">key</span>] <span class="cm-operator">+</span> <span class="cm-string">"&amp;"</span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">str</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-string-2">/get/i</span>.<span class="cm-property">test</span>(<span class="cm-variable-2">type</span>)) <span class="cm-variable-2">url</span><span class="cm-operator">+=</span><span class="cm-string">"?"</span><span class="cm-operator">+</span>(<span class="cm-variable">data</span><span class="cm-operator">||</span><span class="cm-string">""</span>)<span class="cm-operator">+</span><span class="cm-string">"_="</span><span class="cm-operator">+</span><span class="cm-variable">Date</span>.<span class="cm-property">now</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">xhr</span>.<span class="cm-property">open</span>(<span class="cm-variable-2">type</span>, <span class="cm-variable-2">url</span>, <span class="cm-keyword">async</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">xhr</span>.<span class="cm-property">setRequestHeader</span>(<span class="cm-string">"Content-Type"</span>, <span class="cm-string">"application/x-www-form-urlencoded"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">xhr</span>.<span class="cm-property">send</span>(<span class="cm-variable">data</span><span class="cm-operator">||</span><span class="cm-atom">null</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">xhr</span>.<span class="cm-property">onreadystatechange</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span> () {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-keyword">this</span>.<span class="cm-property">readyState</span><span class="cm-operator">===</span><span class="cm-number">4</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-string-2">/(^2\d{2}|304)/</span>.<span class="cm-property">test</span>(<span class="cm-keyword">this</span>.<span class="cm-property">status</span>)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">success</span>(<span class="cm-keyword">this</span>.<span class="cm-property">responseText</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">error</span>(<span class="cm-keyword">this</span>.<span class="cm-property">status</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 739px;"></div><div class="CodeMirror-gutters" style="display: none; height: 769px;"></div></div></div></pre><p>&nbsp;</p><p>&nbsp;</p><p><strong>Fetch</strong></p><p><em>Fetch</em>被称为下一代Ajax技术,采用Promise方式来处理数据。是一种简洁明了的API，比XMLHttpRequest更加简单易用。</p><p>&nbsp;</p><hr /><h2><a name='header-n2736' class='md-header-anchor '></a>39课</h2><h3><a name='header-n2737' class='md-header-anchor '></a>jsonp</h3><p>JSONP(JSON with Padding)是<a href='https://baike.baidu.com/item/JSON'>JSON</a>的一种“使用模式”，可用于解决主流浏览器的跨域数据访问的问题。由于同源策略，一般来说位于 server1.example.com 的网页无法与不是 server1.example.com的服务器沟通，而 HTML 的<script> 元素是一个例外。利用 <script> 元素的这个开放策略，网页可以得到从其他来源动态产生的 JSON 资料，而这种使用模式就是所谓的 JSONP。用 JSONP 抓到的资料并不是 JSON，而是任意的JavaScript，用 JavaScript 直译器执行而不是用 JSON 解析器解析。</p><p>比如，我们要访问服务器上的数据，在本地创建 <script>标签 scr属性引用服务器的地址并传入要获取的数据和callback函数名。服务器返回这个函数名加括号，相当于我们引入的<script>执行了一个函数，而函数的实参就等于我们需要访问到的数据。在这个时候，我们本地需要创建一个callback函数来接收这个参数，而本地函数就可以把访问到的数据作处理。</p><pre class="md-fences md-end-block" lang="html" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// 利用jsonp从百度上访问到搜索结果</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">key</span> <span class="cm-operator">=</span> <span class="cm-string">"关键词"</span>; &nbsp; &nbsp;<span class="cm-comment">//要搜索的关键词</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">cb</span> <span class="cm-operator">=</span> <span class="cm-string">"callback"</span>; &nbsp;<span class="cm-comment">//回调函数名</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-keyword">var</span> <span class="cm-def">script</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">createElement</span>(<span class="cm-string">"script"</span>); &nbsp;<span class="cm-comment">//创建script标签</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">script</span>.<span class="cm-property">src</span> <span class="cm-operator">=</span> <span class="cm-string">"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd="</span><span class="cm-operator">+</span><span class="cm-variable">key</span><span class="cm-operator">+</span><span class="cm-string">"&amp;cb="</span><span class="cm-operator">+</span><span class="cm-variable">cb</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">document</span>.<span class="cm-property">body</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable">script</span>); &nbsp;<span class="cm-comment">//添加到body，执行里面的函数 callback(数据)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">script</span>.<span class="cm-property">onload</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>(){ <span class="cm-variable">document</span>.<span class="cm-property">body</span>.<span class="cm-property">removeChild</span>(<span class="cm-variable">script</span>) } &nbsp;<span class="cm-comment">//加载完成移除自己</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">//在本地定义callback函数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">function</span> <span class="cm-def">callback</span>(<span class="cm-def">json</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span class="cm-comment">//json就是访问到的数据，此时可以对json作处理</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 314px;"></div><div class="CodeMirror-gutters" style="display: none; height: 344px;"></div></div></div></pre><p>&nbsp;</p><p>&nbsp;</p><hr /><h2><a name='header-n2748' class='md-header-anchor '></a>40课</h2><h3><a name='header-n2749' class='md-header-anchor '></a>包装对象</h3><p>包装对象类型（值类型）： boolean  number  str</p><p>包装对象：字面量定义的原始类型的对象，临时创建了一个对象，这个对象就叫包装（包装对象），包装对象使用完，就被销毁</p><ol start='' ><li>字面量创建的对象，原理是js在内部隐式调用对应构造函数生成的对象，如果是有js机制隐式的调用了构造函数创建的原始类型的对象，那么创建完成后，会把对象干掉。</li><li>如果人为显示的调用构造函数生成原始类型的对象，那么不会把对象干掉（可以进行属性的写入和读取）</li></ol><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//字面量创建方式</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">str1</span> <span class="cm-operator">=</span> <span class="cm-string">"abcd"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">alert</span>(<span class="cm-keyword">typeof</span> <span class="cm-variable">str1</span>) &nbsp;<span class="cm-comment">// String</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">str1</span>.<span class="cm-property">attr</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// js会隐式的把基本类型尝试以对象的方式去执行，基本类型会转换成临时的本身的包装类型对象，这个临时对象创建完即销毁</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">alert</span>(<span class="cm-variable">str1</span>.<span class="cm-property">attr</span>); &nbsp; <span class="cm-comment">// undefined</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//new创建方式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">str2</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">String</span>(<span class="cm-string">"abcd"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">alert</span>(<span class="cm-keyword">typeof</span> <span class="cm-variable">str2</span>) &nbsp;<span class="cm-comment">// Object</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">str2</span>.<span class="cm-property">attr</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 人为显式的创建一个基本类型的对象，添加属性不会消失</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">alert</span>(<span class="cm-variable">str2</span>.<span class="cm-property">attr</span>) &nbsp; &nbsp;<span class="cm-comment">// 1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">str是string(基本类型)，本身是没有方法的。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">只要是引用了字符串的属性和方法，JavaScript就会将字符串值通过new String(s)的方式转为内置对象String，一旦引用结束，这个对象就会销毁。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">当尝试把基本类型的str当做对象一样访问时，例如：str.length; </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">解释器会创建一个临时的包装对象，伪代码：</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">[[tempObj]] = new String(str);</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">[[tempObj]].length; // 返回具体的length;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">delete [[tempObj]]; // 销毁临时对象</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">重复访问str.length会重复创建这个临时对象。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">所以str.t赋值可以成功，但再次访问str.t返回undefined，因为每次创建的临时包装对象都是不同的。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">*/</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 762px;"></div><div class="CodeMirror-gutters" style="display: none; height: 792px;"></div></div></div></pre><p>console.dir（）打印对象的属性</p><p>&nbsp;</p><h3><a name='header-n2766' class='md-header-anchor '></a>面向对象 OOP</h3><p><strong>构造函数</strong></p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">Fun</span>(){</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//构造函数内默认创建一个对象，然后返回这个对象</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//里面的this指向这个对象</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">obj</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Fun</span>();</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 112px;"></div><div class="CodeMirror-gutters" style="display: none; height: 142px;"></div></div></div></pre><p>&nbsp;</p><p><strong>原型、原型链</strong></p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">constructor</span> <span class="cm-variable">：属性返回对创建此对象的数组函数的引用</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">__proto__</span><span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">：该对象对应的构造函数的原型，浏览器创造的</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">prototype</span><span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">：该对象的原型</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 99px;"></div></div></div></pre><p>&nbsp;</p><p><strong>获取该对象继承的原型</strong></p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">obj</span>.<span class="cm-property">__proto__</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Object</span>.<span class="cm-property">getPrototypeOf</span>(<span class="cm-variable">obj</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 75px;"></div></div></div></pre><p>&nbsp;</p><p><strong>私有属性与公共属性</strong></p><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">Fn</span>(){</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//对象私有属性</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">x</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">y</span> <span class="cm-operator">=</span> <span class="cm-number">2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Fn</span>.<span class="cm-property">prototype</span> <span class="cm-operator">=</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//原型公有属性</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">z</span> : <span class="cm-number">3</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">show</span> : <span class="cm-keyword">function</span>(){ <span class="cm-variable">alert</span>(<span class="cm-keyword">this</span>.<span class="cm-property">x</span>) }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">foo</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Fn</span>(); <span class="cm-comment">// 实例化</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">foo</span>.<span class="cm-property">x</span>, <span class="cm-variable">foo</span>.<span class="cm-property">y</span>, <span class="cm-variable">foo</span>.<span class="cm-property">z</span>); <span class="cm-comment">// ==&gt; 1 2 3 实例的私有属性</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">foo</span>.<span class="cm-property">show</span>(); &nbsp;<span class="cm-comment">// ==&gt; 1  原型链上的公共属性</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 358px;"></div><div class="CodeMirror-gutters" style="display: none; height: 388px;"></div></div></div></pre><p>&nbsp;</p><p><strong>构造函数继承</strong></p><ul><li>Child.prototype = new Parent();  ==&gt;  子类原型继承父类的实例化</li><li>Parent.call(this, [].slice.call(arguments));  ==&gt;  父类执行把<strong>this指向</strong>子类函数里的对象</li></ul><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//父类</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">Parent</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">x</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Parent</span>.<span class="cm-property">prototype</span> <span class="cm-operator">=</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">constructor</span> : <span class="cm-variable">Parent</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">y</span> : <span class="cm-number">1</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">show</span> : <span class="cm-keyword">function</span> (){}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//子类</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">Child</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Parent</span>.<span class="cm-property">call</span>(<span class="cm-keyword">this</span>, [].<span class="cm-property">slice</span>.<span class="cm-property">call</span>(<span class="cm-variable-2">arguments</span>)); <span class="cm-comment">//使父类指向当前对象，不定参转成数组</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//实例化父类给子类原型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Child</span>.<span class="cm-property">prototype</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Parent</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//不能再使用 Child.prototype = {}; 覆盖子类原型，只能以下方法添加子类属性</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Child</span>.<span class="cm-property">prototype</span>.<span class="cm-property">constructor</span> <span class="cm-operator">=</span> <span class="cm-variable">Child</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Child</span>.<span class="cm-property">prototype</span>.<span class="cm-property">z</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>(){ <span class="cm-variable">alert</span>(<span class="cm-keyword">this</span>.<span class="cm-property">x</span>, <span class="cm-keyword">this</span>.<span class="cm-property">y</span>) };</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//子类实例化</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">oneChild</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Child</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">oneChild</span>.<span class="cm-property">z</span>()</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 560px;"></div><div class="CodeMirror-gutters" style="display: none; height: 590px;"></div></div></div></pre><p>&nbsp;</p><p><strong>Object.create()</strong> 方法会使用指定的原型对象及其属性去创建一个新的对象。</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//语法</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Object</span>.<span class="cm-property">create</span>(<span class="cm-variable">proto</span>[, <span class="cm-variable">propertiesObject</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//参数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">-</span> <span class="cm-variable">proto</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">新创建对象的原型对象。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">-</span> <span class="cm-variable">propertiesObject</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">可选。如果没有指定为</span> <span class="cm-variable">undefined，则是要添加到新创建对象的可枚举属性（即其自身定义的属性，而不是其原型链上的枚举属性）对象的属性描述符以及相应的属性名称。这些属性对应Object</span>.<span class="cm-property">defineProperties</span>()<span class="cm-variable">的第二个参数。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//返回值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">在指定原型对象上添加新属性后的对象。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 269px;"></div><div class="CodeMirror-gutters" style="display: none; height: 299px;"></div></div></div></pre><p>&nbsp;</p><p><strong>原型继承</strong></p><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//父类</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">Parent</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">x</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Parent</span>.<span class="cm-property">prototype</span> <span class="cm-operator">=</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">constructor</span> : <span class="cm-variable">Parent</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">y</span> : <span class="cm-number">1</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">show</span> : <span class="cm-keyword">function</span> (){}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//子类</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">Child</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Parent</span>.<span class="cm-property">call</span>(<span class="cm-keyword">this</span>, [].<span class="cm-property">slice</span>.<span class="cm-property">call</span>(<span class="cm-variable-2">arguments</span>)); <span class="cm-comment">//继承父类的私有属性</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">h</span> <span class="cm-operator">=</span> <span class="cm-number">172</span>; &nbsp;<span class="cm-comment">//子类的原型扩展</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//继承父类的原型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//方法1--新对象</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">Child</span>.<span class="cm-property">prototype</span> <span class="cm-operator">=</span> <span class="cm-variable">Object</span>.<span class="cm-property">create</span>( <span class="cm-variable">Parent</span>.<span class="cm-property">prototype</span> ); <span class="cm-comment">//IE8不兼容</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//方法2--新对象 IE8</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-keyword">function</span> <span class="cm-def">F</span>(){}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">F</span>.<span class="cm-property">prototype</span> <span class="cm-operator">=</span> <span class="cm-variable">Parent</span>.<span class="cm-property">prototype</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Child</span>.<span class="cm-property">prototype</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">F</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//方法3--浅复制</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">for</span>(<span class="cm-keyword">var</span> <span class="cm-def">key</span> <span class="cm-keyword">in</span> <span class="cm-variable">Parent</span>.<span class="cm-property">prototype</span>){ </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">Child</span>.<span class="cm-property">prototype</span>[<span class="cm-variable">key</span>] <span class="cm-operator">=</span> <span class="cm-variable">Parent</span>.<span class="cm-property">prototype</span>[<span class="cm-variable">key</span>] </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//方法4--深复制 复制不了函数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//Child.prototype = JSON.parse(JSON.stringify(Parent.prototype));</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//子类修正constructor指向</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Child</span>.<span class="cm-property">prototype</span>.<span class="cm-property">constructor</span> <span class="cm-operator">=</span> <span class="cm-variable">Child</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//子类的原型扩展</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Child</span>.<span class="cm-property">prototype</span>.<span class="cm-property">z</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>(){ <span class="cm-variable">alert</span>(<span class="cm-keyword">this</span>.<span class="cm-property">x</span>, <span class="cm-keyword">this</span>.<span class="cm-property">y</span>) };</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//子类的实例化</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">a</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Child</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">a</span>.<span class="cm-property">z</span>();</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 879px;"></div><div class="CodeMirror-gutters" style="display: none; height: 909px;"></div></div></div></pre><p>&nbsp;</p><p><strong>instanceof</strong></p><p>判断该对象是否后面类(对象)的实例，它<strong>并不代表两者的继承</strong>。</p><p><code>instanceof</code> 运算符用来检测 <code>constructor.prototype</code> 是否存在于参数 <code>object</code>的原型链上</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">子类</span>.<span class="cm-property">prototype</span> <span class="cm-keyword">instanceof</span> <span class="cm-variable">父类</span> &nbsp;<span class="cm-comment">//true</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">子类</span> <span class="cm-keyword">instanceof</span> <span class="cm-variable">父类</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//false</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">子类实例</span> <span class="cm-keyword">instanceof</span> <span class="cm-variable">子类</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//true</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">子类实例</span> <span class="cm-keyword">instanceof</span> <span class="cm-variable">父类</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//true</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 120px;"></div></div></div></pre><p><code>isPrototypeOf()</code>判断原型对象</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Parent</span>.<span class="cm-property">prototype</span>.<span class="cm-property">isPrototypeOf</span>(<span class="cm-variable">oChild</span>)</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre><p>&nbsp;</p><p><strong>判断对象自身属性</strong></p><ul><li><p><code>hasOwnProperty()</code>函数用于指示一个对象自身(不包括原型链)是否具有指定名称的属性。如果有，返回<code>true</code>，否则返回<code>false</code>。</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">oChild</span>.<span class="cm-property">hasOwnProperty</span>(<span class="cm-string">"name"</span>)</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre><p>该方法属于<code>Object</code>对象，由于所有的对象都&quot;继承&quot;了Object的对象实例，因此几乎所有的实例对象都可以使用该方法。</p></li><li><p><code>in</code>操作符：单独使用时，in操作符会在通过对象能够访问给定属性时返回true，无论该属性存在于实例还是原型中。</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">alert</span>(<span class="cm-string">"name"</span> <span class="cm-keyword">in</span> <span class="cm-variable">oChild</span>) &nbsp;<span class="cm-comment">//返回布尔值</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre></li><li><p><code>hasPrototypeProperty()</code></p></li></ul><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><hr /><p><a href='https://segmentfault.com/q/1010000002736664'><strong>js 原型的问题 Object 和 Function 到底是什么关系？</strong></a></p><ol start='' ><li><p>首先<code>Object</code>和<code>Function</code>都是构造函数，而所有的构造函数的都是<code>Function</code>的实例对象. 因此<code>Object</code>是<code>Function</code>的实例对象</p></li><li><p><code>Function.prototype</code>是<code>Object</code>的实例对象</p></li><li><p>实例对象的原型(我们以<code>__proto__</code>来表示)会指向其构造函数的prototype属性, 因此 </p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Object</span>.<span class="cm-property">__proto__</span> <span class="cm-operator">===</span> <span class="cm-variable">Function</span>.<span class="cm-property">prototype</span> </span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Function</span>.<span class="cm-property">__proto__</span> <span class="cm-operator">===</span> <span class="cm-variable">Function</span>.<span class="cm-property">prototype</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Function</span>.<span class="cm-property">prototype</span>.<span class="cm-property">__proto__</span> <span class="cm-operator">===</span> <span class="cm-variable">Object</span>.<span class="cm-property">prototype</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 67px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre></li><li><p>当我们访问一个属性值的时候, 它会沿着原型链向上查找, 直到找到或者到Object.prototype.<strong>proto</strong>(为null)截止.</p><p>假如我们有以下例子:</p></li></ol><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">foo</span> <span class="cm-operator">=</span> {},</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">F</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>(){};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Object</span>.<span class="cm-property">prototype</span>.<span class="cm-property">a</span> <span class="cm-operator">=</span> <span class="cm-string">'value a'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Function</span>.<span class="cm-property">prototype</span>.<span class="cm-property">b</span> <span class="cm-operator">=</span> <span class="cm-string">'value b'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">foo</span>.<span class="cm-property">a</span>) &nbsp; &nbsp;<span class="cm-comment">// value a</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">foo</span>.<span class="cm-property">b</span>) &nbsp; &nbsp;<span class="cm-comment">// undefined</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">F</span>.<span class="cm-property">a</span>) &nbsp; &nbsp; &nbsp;<span class="cm-comment">// value a</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">F</span>.<span class="cm-property">b</span>) &nbsp; &nbsp; &nbsp;<span class="cm-comment">// value b</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 224px;"></div><div class="CodeMirror-gutters" style="display: none; height: 254px;"></div></div></div></pre><p>​	那么</p><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/*</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; foo.a的查找路径: foo自身: 没有 </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-comment"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>---&gt; foo.__proto__(Object.prototype): 找到value a</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp; &nbsp; &nbsp; &nbsp;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; foo.b的查找路径: foo自身: 没有 </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-comment"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>---&gt; foo.__proto__(Object.prototype): 没有 </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-comment"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>---&gt; foo.__proto__.__proto__ (Object.prototype.__proto__): 没有</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; F.a的查找路径: F自身: 没有 </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-comment"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>---&gt; F.__proto__(Function.prototype): 没有 </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-comment"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>---&gt; F.__proto__.__proto__(Object.prototype): 找到value a</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp; &nbsp; &nbsp; &nbsp;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* &nbsp; F.b的查找路径: F自身: 没有 </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-comment"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>---&gt; F.__proto__(Function.prototype): 找到value b</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">*/</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 341px;"></div><div class="CodeMirror-gutters" style="display: none; height: 371px;"></div></div></div></pre><ol start='5' ><li><p>关于instanceof的结果不要仅从字面上理解, 它的计算规则是: 如果右侧构造函数的prototype属性能在左侧的对象的原型链中找到, 那么就返回true, 否则就返回false</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Object</span> <span class="cm-keyword">instanceof</span> <span class="cm-variable">Function</span>: &nbsp;<span class="cm-variable">Object</span>.<span class="cm-property">__proto__</span> <span class="cm-operator">===</span> <span class="cm-variable">Function</span>.<span class="cm-property">prototype</span>, <span class="cm-variable">结果为true</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Function</span> <span class="cm-keyword">instanceof</span> <span class="cm-variable">Object</span>: &nbsp;<span class="cm-variable">Function</span>.<span class="cm-property">__proto__</span>.<span class="cm-property">__proto__</span> <span class="cm-operator">===</span> <span class="cm-variable">Object</span>.<span class="cm-property">prototype</span>, <span class="cm-variable">结果也为true</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Object</span>.<span class="cm-property">__proto__</span> <span class="cm-operator">===</span> <span class="cm-variable">Function</span>.<span class="cm-property">__proto__</span> &nbsp; <span class="cm-variable">结果为true</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 120px;"></div></div></div></pre></li></ol><ol start='6' ><li><p>实例对象的constructor属性指向其构造函数, 因此</p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Object</span>.<span class="cm-property">constructor</span> <span class="cm-operator">===</span> <span class="cm-variable">Function</span> &nbsp; &nbsp; &nbsp; <span class="cm-comment">// true</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Function</span>.<span class="cm-property">constructor</span> <span class="cm-operator">===</span> <span class="cm-variable">Function</span> &nbsp; &nbsp; <span class="cm-comment">// true</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 75px;"></div></div></div></pre><p><strong>所以，<code>Object</code>是<code>Function</code>的实例对象, <code>Function.prototype</code>是<code>Object</code>的实例对象。</strong></p></li></ol><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>clone一个对象</strong></p><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//深克隆一个对象 递归</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">deepClone</span>(<span class="cm-def">obj</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">// 判断obj是否为对象</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-keyword">if</span> (<span class="cm-operator">!</span><span class="cm-variable-2">obj</span> <span class="cm-keyword">instanceof</span> <span class="cm-variable">Object</span>) <span class="cm-keyword">return</span> <span class="cm-variable-2">obj</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// 判断obj的引用数据类型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">t</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable-2">obj</span> <span class="cm-keyword">instanceof</span> <span class="cm-variable">Array</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">t</span> <span class="cm-operator">=</span> []</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">t</span> <span class="cm-operator">=</span> {}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// 循环拷贝</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-def">i</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">obj</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 判断子层级的数据类型 </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> ( <span class="cm-variable-2">obj</span>[<span class="cm-variable-2">i</span>] <span class="cm-operator">&amp;&amp;</span> <span class="cm-string-2">/object/i</span>.<span class="cm-property">test</span>(<span class="cm-keyword">typeof</span> <span class="cm-variable-2">obj</span>[<span class="cm-variable-2">i</span>]) ) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">t</span>[<span class="cm-variable-2">i</span>] <span class="cm-operator">=</span> <span class="cm-variable">deepClone</span>(<span class="cm-variable-2">obj</span>[<span class="cm-variable-2">i</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">t</span>[<span class="cm-variable-2">i</span>] <span class="cm-operator">=</span> <span class="cm-variable-2">obj</span>[<span class="cm-variable-2">i</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">t</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 517px;"></div><div class="CodeMirror-gutters" style="display: none; height: 547px;"></div></div></div></pre><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 深复制 递归</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">deepClone</span>(<span class="cm-def">obj</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">objClone</span> <span class="cm-operator">=</span> <span class="cm-variable">Array</span>.<span class="cm-property">isArray</span>(<span class="cm-variable-2">obj</span>)<span class="cm-operator">?</span>[]:{};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable-2">obj</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-keyword">typeof</span> <span class="cm-variable-2">obj</span><span class="cm-operator">===</span><span class="cm-string">"object"</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span>(<span class="cm-variable">key</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">obj</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;  <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">// 判断obj是否有key属性</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable-2">obj</span>.<span class="cm-property">hasOwnProperty</span>(<span class="cm-variable">key</span>)){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//判断ojb子元素是否为对象，如果是，递归复制</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable-2">obj</span>[<span class="cm-variable">key</span>] <span class="cm-operator">&amp;&amp;</span> <span class="cm-keyword">typeof</span> <span class="cm-variable-2">obj</span>[<span class="cm-variable">key</span>] <span class="cm-operator">===</span> <span class="cm-string">"Object"</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">objClone</span>[<span class="cm-variable">key</span>] <span class="cm-operator">=</span> <span class="cm-variable">deepClone</span>(<span class="cm-variable-2">obj</span>[<span class="cm-variable">key</span>]);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<span class="cm-keyword">else</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//如果不是，简单复制</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">objClone</span>[<span class="cm-variable">key</span>] <span class="cm-operator">=</span> <span class="cm-variable-2">obj</span>[<span class="cm-variable">key</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">objClone</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 426px;"></div><div class="CodeMirror-gutters" style="display: none; height: 456px;"></div></div></div></pre><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 借用JSON对象的parse和stringify</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">deepClone</span>(<span class="cm-def">obj</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">JSON</span>.<span class="cm-property">parse</span>( <span class="cm-variable">JSON</span>.<span class="cm-property">stringify</span>(<span class="cm-variable-2">obj</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 120px;"></div></div></div></pre><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 多克隆</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">ployClone</span>(<span class="cm-def">target</span>, <span class="cm-def">obj</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-def">i</span><span class="cm-operator">=</span><span class="cm-number">1</span>; <span class="cm-variable-2">i</span><span class="cm-operator">&lt;</span><span class="cm-variable-2">arguments</span>.<span class="cm-property">length</span>; <span class="cm-variable-2">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable">key</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">arguments</span>[<span class="cm-variable-2">i</span>]) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> ( <span class="cm-string-2">/object/i</span>.<span class="cm-property">test</span>(<span class="cm-variable-2">arguments</span>[<span class="cm-variable-2">i</span>][<span class="cm-variable">key</span>]) ) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ployCloen</span>( <span class="cm-variable-2">target</span>[<span class="cm-variable">key</span>], <span class="cm-variable-2">arguments</span>[<span class="cm-variable-2">i</span>][<span class="cm-variable">key</span>] )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">target</span>[<span class="cm-variable">key</span>] <span class="cm-operator">=</span> <span class="cm-variable-2">arguments</span>[<span class="cm-variable-2">i</span>][<span class="cm-variable">key</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// function ployClone(target, obj) {</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; for (var i=1; i&lt;arguments.length; i++) {</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; for (key in arguments[i]) {</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp; if ( /object/i.test(arguments[i][key]) ) {</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp; &nbsp; ployCloen( target[key], arguments[i][key] )</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp; } else if ( Array.isArray(arguments[i][key]) ) {</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp; &nbsp; if (!target[key]) target[key] = []</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp; &nbsp; target[key] = target[key].concat( arguments[i][key] )</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp; } else {</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp; &nbsp; target[key] = arguments[i][key]</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp; }</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; }</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; }</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// }</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 582px;"></div><div class="CodeMirror-gutters" style="display: none; height: 612px;"></div></div></div></pre><p>&nbsp;</p><p><strong>多继承</strong></p><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">a</span> <span class="cm-operator">=</span> {<span class="cm-property">x</span>:<span class="cm-number">1</span>, <span class="cm-property">y</span>:<span class="cm-number">2</span>};</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">b</span> <span class="cm-operator">=</span> {<span class="cm-property">x</span>:<span class="cm-number">2</span>, <span class="cm-property">z</span>:<span class="cm-number">3</span>};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">c</span> <span class="cm-operator">=</span> <span class="cm-variable">Object</span>.<span class="cm-property">assign</span>({},<span class="cm-variable">a</span>,<span class="cm-variable">b</span>); &nbsp;<span class="cm-comment">//ES6方法</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 120px;"></div></div></div></pre><pre class="md-fences md-end-block" lang="js" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//父类FN1</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">FN1</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">a</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">b</span> <span class="cm-operator">=</span> {<span class="cm-property">x</span>:<span class="cm-number">1</span>,<span class="cm-property">y</span>:<span class="cm-number">2</span>};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">c</span> <span class="cm-operator">=</span> [<span class="cm-number">1</span>,<span class="cm-number">2</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">d</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">alert</span>(<span class="cm-keyword">this</span>.<span class="cm-property">a</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">FN1</span>.<span class="cm-property">prototype</span> <span class="cm-operator">=</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">constructor</span>: <span class="cm-variable">FN1</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">e</span>: <span class="cm-string">"hi"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//父类FN2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">FN2</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-property">f</span> <span class="cm-operator">=</span> <span class="cm-string">"hello"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">FN2</span>.<span class="cm-property">prototype</span> <span class="cm-operator">=</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">constructor</span>: <span class="cm-variable">FN2</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">g</span>: <span class="cm-string">"Myname"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">h</span>: <span class="cm-keyword">function</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">alert</span>(<span class="cm-keyword">this</span>.<span class="cm-property">g</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//子类Fn3</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">Fn3</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">FN1</span>.<span class="cm-property">call</span>(<span class="cm-keyword">this</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">FN2</span>.<span class="cm-property">call</span>(<span class="cm-keyword">this</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//子类多继承</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Fn3</span>.<span class="cm-property">prototype</span> <span class="cm-operator">=</span> <span class="cm-variable">Object</span>.<span class="cm-property">assign</span>({},<span class="cm-variable">FN1</span>.<span class="cm-property">prototype</span>,<span class="cm-variable">FN2</span>.<span class="cm-property">prototype</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Fn3</span>.<span class="cm-property">prototype</span>.<span class="cm-property">constructor</span> <span class="cm-operator">=</span> <span class="cm-variable">Fn3</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">a</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Fn3</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">Fn3</span>.<span class="cm-property">prototype</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">a</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 941px;"></div><div class="CodeMirror-gutters" style="display: none; height: 971px;"></div></div></div></pre><p>&nbsp;</p><p><strong>多态</strong></p><p>&nbsp;</p><p>&nbsp;</p><p><strong>链式结构</strong></p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><h2><a name='header-n2912' class='md-header-anchor '></a>移动端网址重定向</h2><pre class="md-fences md-end-block" lang="js"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p></div>
</body>
</html>